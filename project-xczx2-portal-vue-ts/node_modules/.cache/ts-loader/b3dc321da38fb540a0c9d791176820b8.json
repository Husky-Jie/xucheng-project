{"remainingRequest":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js??ref--14-2!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\src\\module-portal\\pages\\forget-password\\components\\change-password-step1-verify-phone.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\src\\module-portal\\pages\\forget-password\\components\\change-password-step1-verify-phone.vue","mtime":1586849107733},{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":1576202003988},{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js","mtime":1660903053026},{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1660903053930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOlxcaXRjYXN0MjAyMlxceGNfZWR1My4wXFxjb2RlXzE0OFxccHJvamVjdC14Y3p4Mi1wb3J0YWwtdnVlLXRzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOlxcaXRjYXN0MjAyMlxceGNfZWR1My4wXFxjb2RlXzE0OFxccHJvamVjdC14Y3p4Mi1wb3J0YWwtdnVlLXRzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkQ6XFxpdGNhc3QyMDIyXFx4Y19lZHUzLjBcXGNvZGVfMTQ4XFxwcm9qZWN0LXhjengyLXBvcnRhbC12dWUtdHNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiRDpcXGl0Y2FzdDIwMjJcXHhjX2VkdTMuMFxcY29kZV8xNDhcXHByb2plY3QteGN6eDItcG9ydGFsLXZ1ZS10c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRDpcXGl0Y2FzdDIwMjJcXHhjX2VkdTMuMFxcY29kZV8xNDhcXHByb2plY3QteGN6eDItcG9ydGFsLXZ1ZS10c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgeyBzbXNNc2cgYXMgX3Ntc01zZyB9IGZyb20gJ0AvYXBpL2NvbW1vbic7CmltcG9ydCB7IHZlcmlmeSBhcyBfdmVyaWZ5IH0gZnJvbSAnQC9hcGkvbGVhcm5pbmctdXNlcic7CnZhciBUSU1FX0NPVU5UID0gOTA7Cgp2YXIgQ2hhbmdlUGFzc3dvcmRTdGVwMVZlcmlmeVBob25lID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhDaGFuZ2VQYXNzd29yZFN0ZXAxVmVyaWZ5UGhvbmUsIF9WdWUpOwoKICBmdW5jdGlvbiBDaGFuZ2VQYXNzd29yZFN0ZXAxVmVyaWZ5UGhvbmUoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYW5nZVBhc3N3b3JkU3RlcDFWZXJpZnlQaG9uZSk7CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQ2hhbmdlUGFzc3dvcmRTdGVwMVZlcmlmeVBob25lKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsgLy8g6aqM6K+B56CBCgogICAgX3RoaXMuaXNTZW5kaW5nID0gZmFsc2U7CiAgICBfdGhpcy5zZW5kVGltZXIgPSAwOwogICAgX3RoaXMuc2VuZENvdW50ID0gMDsgLy8g6KGo5Y2V5pWw5o2uCgogICAgX3RoaXMuZm9ybSA9IHsKICAgICAgcGhvbmU6ICcnLAogICAgICB2ZXJpZnlDb2RlOiAnJywKICAgICAgdmVyaWZ5S2V5OiAnJwogICAgfTsgLy8g5omL5py65Y+35q2j5YiZ77yM5Y+C6ICD77yaaHR0cDovL2NhaWJhb2ppYW4uY29tL3Bob25lLXJlZ2V4cC5odG1sCgogICAgX3RoaXMudmFsaWRhdGVQaG9uZSA9IGZ1bmN0aW9uIChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKCEvXjFbMC05XXsxMH0kLy50ZXN0KHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5q2j56Gu55qE5omL5py65Y+3JykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07IC8vIOihqOWNlemqjOivgQoKCiAgICBfdGhpcy5ydWxlcyA9IHsKICAgICAgcGhvbmU6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmeaJi+acuuWPtycsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHZhbGlkYXRvcjogX3RoaXMudmFsaWRhdGVQaG9uZSwKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9XSwKICAgICAgdmVyaWZ5Q29kZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZ6aqM6K+B56CBJywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9XQogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9IC8vIGNvbXB1dGVkCgoKICBfY3JlYXRlQ2xhc3MoQ2hhbmdlUGFzc3dvcmRTdGVwMVZlcmlmeVBob25lLCBbewogICAga2V5OiAic21zTXNnIiwKCiAgICAvKioNCiAgICAgKiDlj5HpgIHnn63kv6Hpqozor4HnoIENCiAgICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBzbXNNc2coKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZvcm07CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gc21zTXNnJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBmb3JtID0gdGhpcy4kcmVmc1snZm9ybSddOwogICAgICAgICAgICAgIGZvcm0udmFsaWRhdGVGaWVsZCgncGhvbmUnLCBmdW5jdGlvbiBfY2FsbGVlKGVycm9yTWVzc2FnZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvck1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXNTZW5kaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNlbmRDb3VudCA9IFRJTUVfQ09VTlQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKF9zbXNNc2coX3RoaXMyLmZvcm0ucGhvbmUpKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5mb3JtLnZlcmlmeUtleSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZW5kVGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5zZW5kQ291bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2VuZENvdW50LS07CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMyLnNlbmRUaW1lcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXNTZW5kaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmqjOivgeefreS/oemqjOivgeeggQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ2ZXJpZnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZlcmlmeSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHZlcmlmeSQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgIHZhciBmb3JtID0gX3RoaXMzLiRyZWZzWydmb3JtJ107CiAgICAgICAgICAgICAgICBmb3JtLnZhbGlkYXRlKGZ1bmN0aW9uIF9jYWxsZWUyKGlzVmFsaWQpIHsKICAgICAgICAgICAgICAgICAgdmFyIHZlcmlmeVRva2VuOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoX3ZlcmlmeShfdGhpczMuZm9ybSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeVRva2VuID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgnZm9ybUluZm8nLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogX3RoaXMzLmZvcm0ucGhvbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlUb2tlbjogdmVyaWZ5VG9rZW4KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYnV0dG9uVGlwcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgaWYgKCF0aGlzLmlzU2VuZGluZykgewogICAgICAgIHJldHVybiAn6I635Y+W6aqM6K+B56CBJzsKICAgICAgfQoKICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLnNlbmRDb3VudCwgInMiKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBDaGFuZ2VQYXNzd29yZFN0ZXAxVmVyaWZ5UGhvbmU7Cn0oVnVlKTsKCkNoYW5nZVBhc3N3b3JkU3RlcDFWZXJpZnlQaG9uZSA9IHRzbGliXzEuX19kZWNvcmF0ZShbQ29tcG9uZW50XSwgQ2hhbmdlUGFzc3dvcmRTdGVwMVZlcmlmeVBob25lKTsKZXhwb3J0IGRlZmF1bHQgQ2hhbmdlUGFzc3dvcmRTdGVwMVZlcmlmeVBob25lOw=="},{"version":3,"sources":["D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\src\\module-portal\\pages\\forget-password\\components\\change-password-step1-verify-phone.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { Form as ElForm } from 'element-ui'\r\nimport { smsMsg } from '@/api/common'\r\nimport { verify } from '@/api/learning-user'\r\n\r\nconst TIME_COUNT = 90\r\n@Component\r\nexport default class ChangePasswordStep1VerifyPhone extends Vue {\r\n  // 验证码\r\n  private isSending: boolean = false\r\n  private sendTimer: number = 0\r\n  private sendCount: number = 0\r\n  // 表单数据\r\n  private form: any = {\r\n    phone: '',\r\n    verifyCode: '',\r\n    verifyKey: ''\r\n  }\r\n  // 手机号正则，参考：http://caibaojian.com/phone-regexp.html\r\n  private validatePhone = (rule: any, value: any, callback: any) => {\r\n    if (!/^1[0-9]{10}$/.test(value)) {\r\n      callback(new Error('请输入正确的手机号'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  // 表单验证\r\n  private rules: any = {\r\n    phone: [\r\n      { required: true, message: '请填写手机号', trigger: 'change' },\r\n      { validator: this.validatePhone, trigger: 'change' }\r\n    ],\r\n    verifyCode: [{ required: true, message: '请填写验证码', trigger: 'change' }]\r\n  }\r\n  // computed\r\n  get buttonTips() {\r\n    if (!this.isSending) {\r\n      return '获取验证码'\r\n    }\r\n    return `${this.sendCount}s`\r\n  }\r\n\r\n  /**\r\n   * 发送短信验证码\r\n   */\r\n  private async smsMsg() {\r\n    let form = this.$refs['form'] as ElForm\r\n    form.validateField('phone', async (errorMessage: string) => {\r\n      if (errorMessage) {\r\n        return\r\n      }\r\n      this.isSending = true\r\n      this.sendCount = TIME_COUNT\r\n      this.form.verifyKey = await smsMsg(this.form.phone)\r\n\r\n      this.sendTimer = setInterval(() => {\r\n        if (this.sendCount > 0) {\r\n          this.sendCount--\r\n        } else {\r\n          clearInterval(this.sendTimer)\r\n          this.isSending = false\r\n        }\r\n      }, 1000)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 验证短信验证码\r\n   */\r\n  public async verify(): Promise<boolean> {\r\n    return new Promise((resolve, reject) => {\r\n      let form = this.$refs['form'] as ElForm\r\n      form.validate(async (isValid: boolean) => {\r\n        if (isValid) {\r\n          let verifyToken: string = await verify(this.form)\r\n          this.$emit('formInfo', {\r\n            phone: this.form.phone,\r\n            verifyToken: verifyToken\r\n          })\r\n          resolve()\r\n        } else {\r\n          reject()\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n"],"sourceRoot":""}]}