{"remainingRequest":"E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js!E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js??ref--14-2!E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\src\\module-portal\\pages\\login\\components\\register-form.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\src\\module-portal\\pages\\login\\components\\register-form.vue","mtime":1586849107735},{"path":"E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":1576202003988},{"path":"E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js","mtime":1660903053026},{"path":"E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1660903053930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJFOlxcY291cnNlXFwyMDIyXFxcdTVCNjZcdTYyMTBcdTU3MjhcdTdFQkZcXGZyb250X2NvZGVcXHByb2plY3QteGN6eDItcG9ydGFsLXZ1ZS10c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRTpcXGNvdXJzZVxcMjAyMlxcXHU1QjY2XHU2MjEwXHU1NzI4XHU3RUJGXFxmcm9udF9jb2RlXFxwcm9qZWN0LXhjengyLXBvcnRhbC12dWUtdHNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiRTpcXGNvdXJzZVxcMjAyMlxcXHU1QjY2XHU2MjEwXHU1NzI4XHU3RUJGXFxmcm9udF9jb2RlXFxwcm9qZWN0LXhjengyLXBvcnRhbC12dWUtdHNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiRTpcXGNvdXJzZVxcMjAyMlxcXHU1QjY2XHU2MjEwXHU1NzI4XHU3RUJGXFxmcm9udF9jb2RlXFxwcm9qZWN0LXhjengyLXBvcnRhbC12dWUtdHNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkU6XFxjb3Vyc2VcXDIwMjJcXFx1NUI2Nlx1NjIxMFx1NTcyOFx1N0VCRlxcZnJvbnRfY29kZVxccHJvamVjdC14Y3p4Mi1wb3J0YWwtdnVlLXRzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IHNtc01zZyBhcyBfc21zTXNnIH0gZnJvbSAnQC9hcGkvY29tbW9uJzsKaW1wb3J0IHsgcmVnaXN0ZXIgfSBmcm9tICdAL2FwaS9sZWFybmluZy11c2VyJzsKdmFyIFRJTUVfQ09VTlQgPSA5MDsKCnZhciBSZWdpc3RlckZvcm0gPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKFJlZ2lzdGVyRm9ybSwgX1Z1ZSk7CgogIGZ1bmN0aW9uIFJlZ2lzdGVyRm9ybSgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVnaXN0ZXJGb3JtKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihSZWdpc3RlckZvcm0pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOyAvLyDpqozor4HnoIEKCiAgICBfdGhpcy5pc1NlbmRpbmcgPSBmYWxzZTsKICAgIF90aGlzLnNlbmRUaW1lciA9IDA7CiAgICBfdGhpcy5zZW5kQ291bnQgPSAwOyAvLyDooajljZXmlbDmja4KCiAgICBfdGhpcy5mb3JtID0gewogICAgICBwaG9uZTogJycsCiAgICAgIHZlcmlmeUNvZGU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGNvbmZpcm1Qd2Q6ICcnLAogICAgICB2ZXJpZnlLZXk6ICcnLAogICAgICBzaWduQWdyZWVtZW50OiBmYWxzZQogICAgfTsgLy8g6aqM6K+B6K+m5oOFCiAgICAvLyDmiYvmnLrlj7fmraPliJnvvIzlj4LogIPvvJpodHRwOi8vY2FpYmFvamlhbi5jb20vcGhvbmUtcmVnZXhwLmh0bWwKCiAgICBfdGhpcy52YWxpZGF0ZVBob25lID0gZnVuY3Rpb24gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAoIS9eMVswLTldezEwfSQvLnRlc3QodmFsdWUpKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXmraPnoa7nmoTmiYvmnLrlj7cnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsgLy8gVE9ETzog5a+G56CB5YW25LuW5qCh6aqMCgoKICAgIF90aGlzLnZhbGlkYXRlUGFzc3dvcmQgPSBmdW5jdGlvbiAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWvhueggScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoX3RoaXMuZm9ybS5jb25maXJtUHdkICE9PSAnJykgewogICAgICAgICAgdmFyIGZvcm0gPSBfdGhpcy4kcmVmc1snZm9ybSddOwogICAgICAgICAgZm9ybS52YWxpZGF0ZUZpZWxkKCdjb25maXJtUHdkJywgZnVuY3Rpb24gKCkge30pOwogICAgICAgIH0KCiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICBfdGhpcy52YWxpZGF0ZUNvbmZpcm1Qd2QgPSBmdW5jdGlvbiAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+WGjeasoei+k+WFpeWvhueggScpKTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gX3RoaXMuZm9ybS5wYXNzd29yZCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5Lik5qyh6L6T5YWl5a+G56CB5LiN5LiA6Ie0IScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIF90aGlzLnZhbGlkYXRlU2lnbkFncmVlbWVudCA9IGZ1bmN0aW9uIChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36ZiF6K+75bm25ZCM5oSP5Y2P6K6uJykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07IC8vIOihqOWNlemqjOivgQogICAgLy8gVE9ETzog5aKe5YqgcnVsZXPmoKHpqowKCgogICAgX3RoaXMucnVsZXMgPSB7CiAgICAgIHBob25lOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmiYvmnLrlj7cnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICB2YWxpZGF0b3I6IF90aGlzLnZhbGlkYXRlUGhvbmUsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfV0sCiAgICAgIHZlcmlmeUNvZGU6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeefreS/oemqjOivgeeggScsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfV0sCiAgICAgIHBhc3N3b3JkOiBbewogICAgICAgIHZhbGlkYXRvcjogX3RoaXMudmFsaWRhdGVQYXNzd29yZCwKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9XSwKICAgICAgY29uZmlybVB3ZDogW3sKICAgICAgICB2YWxpZGF0b3I6IF90aGlzLnZhbGlkYXRlQ29uZmlybVB3ZCwKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9XSwKICAgICAgc2lnbkFncmVlbWVudDogW3sKICAgICAgICB2YWxpZGF0b3I6IF90aGlzLnZhbGlkYXRlU2lnbkFncmVlbWVudCwKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9XQogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9IC8vIGNvbXB1dGVkCgoKICBfY3JlYXRlQ2xhc3MoUmVnaXN0ZXJGb3JtLCBbewogICAga2V5OiAic21zTXNnIiwKCiAgICAvKioNCiAgICAgKiDlj5HpgIHnn63kv6Hpqozor4HnoIENCiAgICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBzbXNNc2coKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZvcm07CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gc21zTXNnJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBmb3JtID0gdGhpcy4kcmVmc1snZm9ybSddOwogICAgICAgICAgICAgIGZvcm0udmFsaWRhdGVGaWVsZCgncGhvbmUnLCBmdW5jdGlvbiBfY2FsbGVlKGVycm9yTWVzc2FnZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvck1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXNTZW5kaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNlbmRDb3VudCA9IFRJTUVfQ09VTlQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKF9zbXNNc2coX3RoaXMyLmZvcm0ucGhvbmUpKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5mb3JtLnZlcmlmeUtleSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZW5kVGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5zZW5kQ291bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2VuZENvdW50LS07CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMyLnNlbmRUaW1lcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXNTZW5kaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOeUqOaIt+azqOWGjA0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJoYW5kbGVSZWdpc3RlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVnaXN0ZXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGZvcm07CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gaGFuZGxlUmVnaXN0ZXIkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGZvcm0gPSB0aGlzLiRyZWZzWydmb3JtJ107CiAgICAgICAgICAgICAgZm9ybS52YWxpZGF0ZShmdW5jdGlvbiBfY2FsbGVlMihpc1ZhbGlkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChyZWdpc3RlcihfdGhpczMuZm9ybSkpOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRlbWl0KCdjaGFuZ2VTdGF0ZScsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJidXR0b25UaXBzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICBpZiAoIXRoaXMuaXNTZW5kaW5nKSB7CiAgICAgICAgcmV0dXJuICfojrflj5bpqozor4HnoIEnOwogICAgICB9CgogICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuc2VuZENvdW50LCAicyIpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFJlZ2lzdGVyRm9ybTsKfShWdWUpOwoKUmVnaXN0ZXJGb3JtID0gdHNsaWJfMS5fX2RlY29yYXRlKFtDb21wb25lbnRdLCBSZWdpc3RlckZvcm0pOwpleHBvcnQgZGVmYXVsdCBSZWdpc3RlckZvcm07"},{"version":3,"sources":["E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\course\\2022\\学成在线\\front_code\\project-xczx2-portal-vue-ts\\src\\module-portal\\pages\\login\\components\\register-form.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { Form as ElForm } from 'element-ui'\r\nimport { smsMsg } from '@/api/common'\r\nimport { register } from '@/api/learning-user'\r\n\r\nconst TIME_COUNT = 90\r\n@Component\r\nexport default class RegisterForm extends Vue {\r\n  private loading = false\r\n  // 验证码\r\n  private isSending: boolean = false\r\n  private sendTimer: number = 0\r\n  private sendCount: number = 0\r\n  // 表单数据\r\n  private form: any = {\r\n    phone: '',\r\n    verifyCode: '',\r\n    password: '',\r\n    confirmPwd: '',\r\n    verifyKey: '',\r\n    signAgreement: false\r\n  }\r\n  // 验证详情\r\n  // 手机号正则，参考：http://caibaojian.com/phone-regexp.html\r\n  private validatePhone = (rule: any, value: any, callback: any) => {\r\n    if (!/^1[0-9]{10}$/.test(value)) {\r\n      callback(new Error('请输入正确的手机号'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  // TODO: 密码其他校验\r\n  private validatePassword: any = (rule, value, callback) => {\r\n    if (value === '') {\r\n      callback(new Error('请输入密码'))\r\n    } else {\r\n      if (this.form.confirmPwd !== '') {\r\n        let form = this.$refs['form'] as ElForm\r\n        form.validateField('confirmPwd', () => {})\r\n      }\r\n      callback()\r\n    }\r\n  }\r\n  private validateConfirmPwd: any = (rule, value, callback) => {\r\n    if (value === '') {\r\n      callback(new Error('请再次输入密码'))\r\n    } else if (value !== this.form.password) {\r\n      callback(new Error('两次输入密码不一致!'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  private validateSignAgreement: any = (rule, value, callback) => {\r\n    if (!value) {\r\n      callback(new Error('请阅读并同意协议'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  // 表单验证\r\n  // TODO: 增加rules校验\r\n  private rules: any = {\r\n    phone: [\r\n      {\r\n        required: true,\r\n        message: '请输入手机号',\r\n        trigger: 'change'\r\n      },\r\n      { validator: this.validatePhone, trigger: 'change' }\r\n    ],\r\n    verifyCode: [\r\n      {\r\n        required: true,\r\n        message: '请输入短信验证码',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    password: [{ validator: this.validatePassword, trigger: 'change' }],\r\n    confirmPwd: [{ validator: this.validateConfirmPwd, trigger: 'change' }],\r\n    signAgreement: [\r\n      { validator: this.validateSignAgreement, trigger: 'change' }\r\n    ]\r\n  }\r\n\r\n  // computed\r\n  get buttonTips() {\r\n    if (!this.isSending) {\r\n      return '获取验证码'\r\n    }\r\n    return `${this.sendCount}s`\r\n  }\r\n\r\n  /**\r\n   * 发送短信验证码\r\n   */\r\n  private async smsMsg() {\r\n    let form = this.$refs['form'] as ElForm\r\n    form.validateField('phone', async (errorMessage: string) => {\r\n      if (errorMessage) {\r\n        return\r\n      }\r\n      this.isSending = true\r\n      this.sendCount = TIME_COUNT\r\n      this.form.verifyKey = await smsMsg(this.form.phone)\r\n\r\n      this.sendTimer = setInterval(() => {\r\n        if (this.sendCount > 0) {\r\n          this.sendCount--\r\n        } else {\r\n          clearInterval(this.sendTimer)\r\n          this.isSending = false\r\n        }\r\n      }, 1000)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 用户注册\r\n   */\r\n  public async handleRegister() {\r\n    let form: ElForm = this.$refs['form'] as ElForm\r\n    form.validate(async (isValid: boolean) => {\r\n      if (isValid) {\r\n        this.loading = true\r\n        await register(this.form)\r\n\r\n        this.$emit('changeState', false)\r\n        this.loading = false\r\n      } else {\r\n        return false\r\n      }\r\n    })\r\n  }\r\n}\r\n"],"sourceRoot":""}]}