{"remainingRequest":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js!D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js??ref--14-2!D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\src\\module-portal\\pages\\forget-password\\components\\change-password-step2-setting-password.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\src\\module-portal\\pages\\forget-password\\components\\change-password-step2-setting-password.vue","mtime":1577716381308},{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":1576202003988},{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js","mtime":1660903053026},{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1660903053930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOlxcSmF2YVx1NUI2Nlx1NEU2MFxceHVjaGVuZy1wcm9qZWN0XFxwcm9qZWN0LXhjengyLXBvcnRhbC12dWUtdHNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkQ6XFxKYXZhXHU1QjY2XHU0RTYwXFx4dWNoZW5nLXByb2plY3RcXHByb2plY3QteGN6eDItcG9ydGFsLXZ1ZS10c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICJEOlxcSmF2YVx1NUI2Nlx1NEU2MFxceHVjaGVuZy1wcm9qZWN0XFxwcm9qZWN0LXhjengyLXBvcnRhbC12dWUtdHNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiRDpcXEphdmFcdTVCNjZcdTRFNjBcXHh1Y2hlbmctcHJvamVjdFxccHJvamVjdC14Y3p4Mi1wb3J0YWwtdnVlLXRzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJEOlxcSmF2YVx1NUI2Nlx1NEU2MFxceHVjaGVuZy1wcm9qZWN0XFxwcm9qZWN0LXhjengyLXBvcnRhbC12dWUtdHNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUsIFByb3AgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsgY2hhbmdlUHdkIGFzIF9jaGFuZ2VQd2QgfSBmcm9tICdAL2FwaS9sZWFybmluZy11c2VyJzsKCnZhciBDaGFuZ2VQYXNzd29yZFN0ZXAyU2V0dGluZ1Bhc3N3b3JkID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhDaGFuZ2VQYXNzd29yZFN0ZXAyU2V0dGluZ1Bhc3N3b3JkLCBfVnVlKTsKCiAgZnVuY3Rpb24gQ2hhbmdlUGFzc3dvcmRTdGVwMlNldHRpbmdQYXNzd29yZCgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhbmdlUGFzc3dvcmRTdGVwMlNldHRpbmdQYXNzd29yZCk7CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQ2hhbmdlUGFzc3dvcmRTdGVwMlNldHRpbmdQYXNzd29yZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7IC8vIOihqOWNleaVsOaNrgoKICAgIF90aGlzLmZvcm0gPSB7CiAgICAgIHBob25lOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBjb25maXJtUHdkOiAnJwogICAgfTsgLy8g6aqM6K+B6K+m5oOFCiAgICAvLyBUT0RPOiDlr4bnoIHlhbbku5bmoKHpqowKCiAgICBfdGhpcy52YWxpZGF0ZVBhc3N3b3JkID0gZnVuY3Rpb24gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXlr4bnoIEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKF90aGlzLmZvcm0uY29uZmlybVB3ZCAhPT0gJycpIHsKICAgICAgICAgIHZhciBmb3JtID0gX3RoaXMuJHJlZnNbJ2Zvcm0nXTsKICAgICAgICAgIGZvcm0udmFsaWRhdGVGaWVsZCgnY29uZmlybVB3ZCcsIGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICB9CgogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgX3RoaXMudmFsaWRhdGVDb25maXJtUHdkID0gZnVuY3Rpb24gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7flho3mrKHovpPlhaXlr4bnoIEnKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IF90aGlzLmZvcm0ucGFzc3dvcmQpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+S4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtCEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsgLy8g6KGo5Y2V6aqM6K+BCgoKICAgIF90aGlzLnJ1bGVzID0gewogICAgICBwYXNzd29yZDogW3sKICAgICAgICB2YWxpZGF0b3I6IF90aGlzLnZhbGlkYXRlUGFzc3dvcmQsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfV0sCiAgICAgIGNvbmZpcm1Qd2Q6IFt7CiAgICAgICAgdmFsaWRhdG9yOiBfdGhpcy52YWxpZGF0ZUNvbmZpcm1Qd2QsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfV0KICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIC8qKg0KICAgKiDmlrDlr4bnoIHmj5DkuqQNCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoQ2hhbmdlUGFzc3dvcmRTdGVwMlNldHRpbmdQYXNzd29yZCwgW3sKICAgIGtleTogImNoYW5nZVB3ZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlUHdkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gY2hhbmdlUHdkJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgdmFyIGZvcm0gPSBfdGhpczIuJHJlZnNbJ2Zvcm0nXTsKICAgICAgICAgICAgICAgIGZvcm0udmFsaWRhdGUoZnVuY3Rpb24gX2NhbGxlZShpc1ZhbGlkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmZvcm0ucGhvbmUgPSBfdGhpczIucGhvbmU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChfY2hhbmdlUHdkKF90aGlzMi52ZXJpZnlUb2tlbiwgX3RoaXMyLmZvcm0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ2hhbmdlUGFzc3dvcmRTdGVwMlNldHRpbmdQYXNzd29yZDsKfShWdWUpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKHsKICByZXF1aXJlZDogdHJ1ZSwKICB0eXBlOiBTdHJpbmcsCiAgZGVmYXVsdDogJycKfSldLCBDaGFuZ2VQYXNzd29yZFN0ZXAyU2V0dGluZ1Bhc3N3b3JkLnByb3RvdHlwZSwgInBob25lIiwgdm9pZCAwKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcCh7CiAgcmVxdWlyZWQ6IHRydWUsCiAgdHlwZTogU3RyaW5nLAogIGRlZmF1bHQ6ICcnCn0pXSwgQ2hhbmdlUGFzc3dvcmRTdGVwMlNldHRpbmdQYXNzd29yZC5wcm90b3R5cGUsICJ2ZXJpZnlUb2tlbiIsIHZvaWQgMCk7CgpDaGFuZ2VQYXNzd29yZFN0ZXAyU2V0dGluZ1Bhc3N3b3JkID0gdHNsaWJfMS5fX2RlY29yYXRlKFtDb21wb25lbnRdLCBDaGFuZ2VQYXNzd29yZFN0ZXAyU2V0dGluZ1Bhc3N3b3JkKTsKZXhwb3J0IGRlZmF1bHQgQ2hhbmdlUGFzc3dvcmRTdGVwMlNldHRpbmdQYXNzd29yZDs="},{"version":3,"sources":["D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\src\\module-portal\\pages\\forget-password\\components\\change-password-step2-setting-password.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\nimport { Form as ElForm } from 'element-ui'\r\nimport { changePwd } from '@/api/learning-user'\r\n\r\n@Component\r\nexport default class ChangePasswordStep2SettingPassword extends Vue {\r\n  @Prop({ required: true, type: String, default: '' })\r\n  phone!: string\r\n  @Prop({ required: true, type: String, default: '' })\r\n  verifyToken!: string\r\n  // 表单数据\r\n  private form: any = {\r\n    phone: '',\r\n    password: '',\r\n    confirmPwd: ''\r\n  }\r\n  // 验证详情\r\n  // TODO: 密码其他校验\r\n  private validatePassword: any = (rule, value, callback) => {\r\n    if (value === '') {\r\n      callback(new Error('请输入密码'))\r\n    } else {\r\n      if (this.form.confirmPwd !== '') {\r\n        let form = this.$refs['form'] as ElForm\r\n        form.validateField('confirmPwd', () => {})\r\n      }\r\n      callback()\r\n    }\r\n  }\r\n  private validateConfirmPwd: any = (rule, value, callback) => {\r\n    if (value === '') {\r\n      callback(new Error('请再次输入密码'))\r\n    } else if (value !== this.form.password) {\r\n      callback(new Error('两次输入密码不一致!'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  // 表单验证\r\n  private rules: any = {\r\n    password: [{ validator: this.validatePassword, trigger: 'change' }],\r\n    confirmPwd: [{ validator: this.validateConfirmPwd, trigger: 'change' }]\r\n  }\r\n\r\n  /**\r\n   * 新密码提交\r\n   */\r\n  public async changePwd(): Promise<boolean> {\r\n    return new Promise((resolve, reject) => {\r\n      let form = this.$refs['form'] as ElForm\r\n      form.validate(async (isValid: boolean) => {\r\n        if (isValid) {\r\n          this.form.phone = this.phone\r\n          await changePwd(this.verifyToken, this.form)\r\n          resolve()\r\n        } else {\r\n          reject()\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n"],"sourceRoot":""}]}