{"remainingRequest":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js??ref--14-2!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\src\\module-entering\\pages\\entering\\components\\common-entering-step2-phone-verifyCode.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\src\\module-entering\\pages\\entering\\components\\common-entering-step2-phone-verifyCode.vue","mtime":1586849107718},{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":1576202003988},{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js","mtime":1660903053026},{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1660903053930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOlxcaXRjYXN0MjAyMlxceGNfZWR1My4wXFxjb2RlXzE0OFxccHJvamVjdC14Y3p4Mi1wb3J0YWwtdnVlLXRzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOlxcaXRjYXN0MjAyMlxceGNfZWR1My4wXFxjb2RlXzE0OFxccHJvamVjdC14Y3p4Mi1wb3J0YWwtdnVlLXRzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkQ6XFxpdGNhc3QyMDIyXFx4Y19lZHUzLjBcXGNvZGVfMTQ4XFxwcm9qZWN0LXhjengyLXBvcnRhbC12dWUtdHNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiRDpcXGl0Y2FzdDIwMjJcXHhjX2VkdTMuMFxcY29kZV8xNDhcXHByb2plY3QteGN6eDItcG9ydGFsLXZ1ZS10c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRDpcXGl0Y2FzdDIwMjJcXHhjX2VkdTMuMFxcY29kZV8xNDhcXHByb2plY3QteGN6eDItcG9ydGFsLXZ1ZS10c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSwgUHJvcFN5bmMgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsgc21zTXNnIGFzIF9zbXNNc2cgfSBmcm9tICdAL2FwaS9jb21tb24nOwp2YXIgVElNRV9DT1VOVCA9IDkwOwoKdmFyIENvbW1vbkVudGVyaW5nU3RlcDJQaG9uZVZlcmlmeUNvZGUgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKENvbW1vbkVudGVyaW5nU3RlcDJQaG9uZVZlcmlmeUNvZGUsIF9WdWUpOwoKICBmdW5jdGlvbiBDb21tb25FbnRlcmluZ1N0ZXAyUGhvbmVWZXJpZnlDb2RlKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21tb25FbnRlcmluZ1N0ZXAyUGhvbmVWZXJpZnlDb2RlKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihDb21tb25FbnRlcmluZ1N0ZXAyUGhvbmVWZXJpZnlDb2RlKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsgLy8g6aqM6K+B56CBCgogICAgX3RoaXMuaXNTZW5kaW5nID0gZmFsc2U7CiAgICBfdGhpcy5zZW5kVGltZXIgPSAwOwogICAgX3RoaXMuc2VuZENvdW50ID0gMDsKICAgIHJldHVybiBfdGhpczsKICB9IC8vIGNvbXB1dGVkCgoKICBfY3JlYXRlQ2xhc3MoQ29tbW9uRW50ZXJpbmdTdGVwMlBob25lVmVyaWZ5Q29kZSwgW3sKICAgIGtleTogInNtc01zZyIsCgogICAgLyoqDQogICAgICog5Y+R6YCB55+t5L+h6aqM6K+B56CBDQogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gc21zTXNnKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBmb3JtOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHNtc01zZyQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZm9ybSA9IHRoaXMuJHBhcmVudC4kcGFyZW50OwogICAgICAgICAgICAgIGZvcm0udmFsaWRhdGVGaWVsZCgncGhvbmUnLCBmdW5jdGlvbiBfY2FsbGVlKGVycm9yTWVzc2FnZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvck1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXNTZW5kaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNlbmRDb3VudCA9IFRJTUVfQ09VTlQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKF9zbXNNc2coX3RoaXMyLmZvcm0ucGhvbmUpKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5mb3JtLnZlcmlmeUtleSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZW5kVGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5zZW5kQ291bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2VuZENvdW50LS07CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMyLnNlbmRUaW1lcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXNTZW5kaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJidXR0b25UaXBzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICBpZiAoIXRoaXMuaXNTZW5kaW5nKSB7CiAgICAgICAgcmV0dXJuICfojrflj5bpqozor4HnoIEnOwogICAgICB9CgogICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuc2VuZENvdW50LCAicyIpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENvbW1vbkVudGVyaW5nU3RlcDJQaG9uZVZlcmlmeUNvZGU7Cn0oVnVlKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcFN5bmMoJ3Bob25lRm9ybScsIHsKICB0eXBlOiBPYmplY3QsCiAgcmVxdWlyZWQ6IGZhbHNlLAogIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgcmV0dXJuIHsKICAgICAgcGhvbmU6ICcnLAogICAgICB2ZXJpZnlDb2RlOiAnJywKICAgICAgdmVyaWZ5S2V5OiAnJwogICAgfTsKICB9Cn0pXSwgQ29tbW9uRW50ZXJpbmdTdGVwMlBob25lVmVyaWZ5Q29kZS5wcm90b3R5cGUsICJmb3JtIiwgdm9pZCAwKTsKCkNvbW1vbkVudGVyaW5nU3RlcDJQaG9uZVZlcmlmeUNvZGUgPSB0c2xpYl8xLl9fZGVjb3JhdGUoW0NvbXBvbmVudF0sIENvbW1vbkVudGVyaW5nU3RlcDJQaG9uZVZlcmlmeUNvZGUpOwpleHBvcnQgZGVmYXVsdCBDb21tb25FbnRlcmluZ1N0ZXAyUGhvbmVWZXJpZnlDb2RlOw=="},{"version":3,"sources":["D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\itcast2022\\xc_edu3.0\\code_148\\project-xczx2-portal-vue-ts\\src\\module-entering\\pages\\entering\\components\\common-entering-step2-phone-verifyCode.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;AAmBA,SAAS,SAAT,EAAoB,GAApB,EAAyB,QAAzB,QAAyC,wBAAzC;AAEA,SAAS,MAAM,IAAN,OAAT,QAAuB,cAAvB;AAEA,IAAM,UAAU,GAAG,EAAnB;;AAEA,IAAqB,kCAArB;AAAA;AAAA;AAAA;;AADA,gDAAA;AAAA;;AAAA;;yHAAA,CAeE;;AACQ,UAAA,SAAA,GAAqB,KAArB;AACA,UAAA,SAAA,GAAoB,CAApB;AACA,UAAA,SAAA,GAAoB,CAApB;AAlBV;AAmDC,GAlDD,CAmBE;;;AAnBF;AAAA;;AA2BE;;;AA3BF;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BQ,cAAA,IA/BR,GA+Be,KAAK,OAAL,CAAa,OA/B5B;AAgCI,cAAA,IAAI,CAAC,aAAL,CAAmB,OAAnB,EAA4B,iBAAO,YAAP;AAAA;AAAA;AAAA;AAAA;AAAA,6BACtB,YADsB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAI1B,wBAAA,MAAI,CAAC,SAAL,GAAiB,IAAjB;AACA,wBAAA,MAAI,CAAC,SAAL,GAAiB,UAAjB;AAL0B;AAAA,wDAME,OAAM,CAAC,MAAI,CAAC,IAAL,CAAU,KAAX,CANR;;AAAA;AAM1B,wBAAA,MAAI,CAAC,IAAL,CAAU,SANgB;AAQ1B,wBAAA,MAAI,CAAC,SAAL,GAAiB,WAAW,CAAC,YAAK;AAChC,8BAAI,MAAI,CAAC,SAAL,GAAiB,CAArB,EAAwB;AACtB,4BAAA,MAAI,CAAC,SAAL;AACD,2BAFD,MAEO;AACL,4BAAA,aAAa,CAAC,MAAI,CAAC,SAAN,CAAb;AACA,4BAAA,MAAI,CAAC,SAAL,GAAiB,KAAjB;AACD;AACF,yBAP2B,EAOzB,IAPyB,CAA5B;;AAR0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA5B;;AAhCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAoBgB;AACZ,UAAI,CAAC,KAAK,SAAV,EAAqB;AACnB,eAAO,OAAP;AACD;;AACD,uBAAU,KAAK,SAAf;AACD;AAzBH;;AAAA;AAAA,EAAgE,GAAhE,CAAA;;AAYE,OAAA,CAAA,UAAA,CAAA,CAXC,QAAQ,CAAC,WAAD,EAAc;AACrB,EAAA,IAAI,EAAE,MADe;AAErB,EAAA,QAAQ,EAAE,KAFW;AAGrB,EAAA,OAAO,EAAE,oBAAK;AACZ,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,UAAU,EAAE,EAFP;AAGL,MAAA,SAAS,EAAE;AAHN,KAAP;AAKD;AAToB,CAAd,CAWT,CAAA,E,4CAAA,E,MAAA,E,KAAU,CAAV;;AAZmB,kCAAkC,GAAA,OAAA,CAAA,UAAA,CAAA,CADtD,SACsD,CAAA,EAAlC,kCAAkC,CAAlC;eAAA,kC","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, PropSync } from 'vue-property-decorator'\r\nimport { Form as ElForm } from 'element-ui'\r\nimport { smsMsg } from '@/api/common'\r\n\r\nconst TIME_COUNT = 90\r\n@Component\r\nexport default class CommonEnteringStep2PhoneVerifyCode extends Vue {\r\n  @PropSync('phoneForm', {\r\n    type: Object,\r\n    required: false,\r\n    default: () => {\r\n      return {\r\n        phone: '',\r\n        verifyCode: '',\r\n        verifyKey: ''\r\n      }\r\n    }\r\n  })\r\n  form!: any\r\n\r\n  // 验证码\r\n  private isSending: boolean = false\r\n  private sendTimer: number = 0\r\n  private sendCount: number = 0\r\n\r\n  // computed\r\n  get buttonTips() {\r\n    if (!this.isSending) {\r\n      return '获取验证码'\r\n    }\r\n    return `${this.sendCount}s`\r\n  }\r\n\r\n  /**\r\n   * 发送短信验证码\r\n   */\r\n  private async smsMsg() {\r\n    let form = this.$parent.$parent as ElForm\r\n    form.validateField('phone', async (errorMessage: string) => {\r\n      if (errorMessage) {\r\n        return\r\n      }\r\n      this.isSending = true\r\n      this.sendCount = TIME_COUNT\r\n      this.form.verifyKey = await smsMsg(this.form.phone)\r\n\r\n      this.sendTimer = setInterval(() => {\r\n        if (this.sendCount > 0) {\r\n          this.sendCount--\r\n        } else {\r\n          clearInterval(this.sendTimer)\r\n          this.isSending = false\r\n        }\r\n      }, 1000)\r\n    })\r\n  }\r\n}\r\n"],"sourceRoot":""}]}