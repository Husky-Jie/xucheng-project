{"remainingRequest":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\src\\module-organization\\pages\\course-manage\\course-add-step2-select-dialog.vue?vue&type=style&index=0&id=93fc822a&lang=scss&scoped=true&","dependencies":[{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\src\\module-organization\\pages\\course-manage\\course-add-step2-select-dialog.vue","mtime":1663162753418},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\css-loader\\dist\\cjs.js","mtime":1660903053592},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1660903053930},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\postcss-loader\\src\\index.js","mtime":1576202027988},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1660903055666},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1660903053930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoudHlwZXMgew0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIGhlaWdodDogODBweDsNCiAgLml0ZW0gew0KICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICB3aWR0aDogNTAlOw0KICAgIGhlaWdodDogMTAwJTsNCiAgICAvLyBiYWNrZ3JvdW5kLWNvbG9yOiBiaXNxdWU7DQogICAgcGFkZGluZy10b3A6IDIwcHg7DQogICAgLnNlbGVjdGVkLWl0ZW0gew0KICAgICAgbWFyZ2luOiAwcHggYXV0bzsNCiAgICB9DQogIH0NCiAgLmVsLXNlbGVjdCB7DQogICAgd2lkdGg6IDkwJTsNCiAgfQ0KfQ0K"},{"version":3,"sources":["course-add-step2-select-dialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"course-add-step2-select-dialog.vue","sourceRoot":"src/module-organization/pages/course-manage","sourcesContent":["<template>\r\n  <el-dialog :title=\"title\" width=\"500px\" :visible.sync=\"syncDialogVisible\">\r\n    <div class=\"types\">\r\n      <el-select\r\n        v-model=\"selValue\"\r\n        filterable\r\n        remote\r\n        reserve-keyword\r\n        placeholder=\"请输入关键词\"\r\n        :remote-method=\"remoteQuery\"\r\n        :loading=\"loading\"\r\n      >\r\n        <!-- 视频 文档 -->\r\n        <template v-if=\"options.items !== undefined && (type === 'video' || type === 'doc')\">\r\n          <el-option\r\n            v-for=\"item in options.items\"\r\n            :key=\"item.id\"\r\n            :label=\"item.filename\"\r\n            :value=\"item.id\"\r\n          ></el-option>\r\n        </template>\r\n        <!-- 作业 -->\r\n        <template v-if=\"options.items !== undefined && type === 'work'\">\r\n          <el-option\r\n            v-for=\"item in options.items\"\r\n            :key=\"item.workId\"\r\n            :label=\"item.title\"\r\n            :value=\"item.workId\"\r\n          ></el-option>\r\n        </template>\r\n      </el-select>\r\n    </div>\r\n    <div slot=\"footer\">\r\n      <el-button @click=\"handleCancel\">取消</el-button>\r\n      <el-button type=\"primary\" @click=\"handleSubmit\">提交</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.types {\r\n  text-align: center;\r\n  height: 80px;\r\n  .item {\r\n    display: inline-block;\r\n    width: 50%;\r\n    height: 100%;\r\n    // background-color: bisque;\r\n    padding-top: 20px;\r\n    .selected-item {\r\n      margin: 0px auto;\r\n    }\r\n  }\r\n  .el-select {\r\n    width: 90%;\r\n  }\r\n}\r\n</style>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Prop, PropSync, Watch, Vue } from 'vue-property-decorator'\r\nimport CourseAddTypeItem from './course-addtype-item.vue'\r\nimport { IMediaPageList, IMediaBaseDTO } from '@/entity/media-page-list'\r\nimport { getMediaPageList } from '@/api/media'\r\nimport { getWorkPageList } from '@/api/works'\r\nimport { IWorkPageList, IWorkDTO } from '@/entity/work-page-list'\r\n\r\n@Component({\r\n  name: 'OutlineSelectDialog',\r\n  components: { CourseAddTypeItem }\r\n})\r\nexport default class extends Vue {\r\n  @PropSync('dialogVisible', { type: Boolean, default: false })\r\n  syncDialogVisible!: boolean\r\n  @Prop({ required: true, type: String, default: '' })\r\n  type!: string\r\n  @Prop({ required: true, type: String, default: '' })\r\n  title!: string\r\n\r\n  private loading: boolean = false\r\n  private options: any = {}\r\n  private selValue: any = null\r\n\r\n  public restForm() {\r\n    this.loading = false\r\n    this.options = {}\r\n    this.selValue = null\r\n  }\r\n\r\n  async remoteQuery(query) {\r\n    this.loading = true\r\n    if (query !== '') {\r\n      if (this.type === 'video') {\r\n        this.options = await getMediaPageList(undefined, {\r\n          filename: query,\r\n          type: '001002',\r\n          auditStatus: '002003'\r\n        })\r\n      } else if (this.type === 'doc') {\r\n        this.options = await getMediaPageList(undefined, {\r\n          filename: query,\r\n          type: '001003'\r\n        })\r\n      } else if (this.type === 'work') {\r\n        this.options = await getWorkPageList(\r\n          {\r\n            title: query\r\n          },\r\n          undefined\r\n        )\r\n      }\r\n    } else {\r\n      this.options = {}\r\n    }\r\n    this.loading = false\r\n  }\r\n\r\n  handleSelect(item) {\r\n    console.log(item)\r\n  }\r\n  handleCancel() {\r\n    this.syncDialogVisible = false\r\n  }\r\n  handleSubmit() {\r\n    if (this.type === 'video' || this.type === 'doc') {\r\n      this.$emit('onSelected', {\r\n        type: this.type,\r\n        value: this.options.items.filter(item => item.id === this.selValue)[0]\r\n      })\r\n    } else if (this.type === 'work') {\r\n      this.$emit('onSelected', {\r\n        type: this.type,\r\n        value: this.options.items.filter(\r\n          item => item.workId === this.selValue\r\n        )[0]\r\n      })\r\n    }\r\n    this.syncDialogVisible = false\r\n  }\r\n}\r\n</script>\r\n"]}]}