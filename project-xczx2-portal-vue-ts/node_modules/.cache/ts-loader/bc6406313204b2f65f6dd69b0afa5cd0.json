{"remainingRequest":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js!D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js!D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js??ref--13-3!D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\src\\api\\upload.ts","dependencies":[{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\src\\api\\upload.ts","mtime":1663060106370},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1577501203546},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":1576202003988},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js","mtime":1660903053026}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IHsgY3JlYXRlRm9ybUFQSSwgdXBsb2FkVmlkZW8gfSBmcm9tICdAL3V0aWxzL3JlcXVlc3QnOyAvLyDkuIrkvKDms6jlhowKLy8gZmlsZU1kNT1jNWM3NWQ3MGYzODJlNjAxNmQyZjUwNmQxMzRlZWUxMSZmaWxlTmFtZT0xLmF2aSZmaWxlU2l6ZT01MSZtaW1ldHlwZT12aWRlby94LW1zdmlkZW8mZmlsZUV4dD1hdmkKCmV4cG9ydCBmdW5jdGlvbiB1cFJlZ2lzdGVyKHBhcmFtcykgewogIHZhciBfcmVmLCBkYXRhOwoKICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHVwUmVnaXN0ZXIkKF9jb250ZXh0KSB7CiAgICB3aGlsZSAoMSkgewogICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGNyZWF0ZUZvcm1BUEkoJy9tZWRpYS91cGxvYWQvY2hlY2tmaWxlJywgJ3Bvc3QnLCBwYXJhbXMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7JykpOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBfcmVmID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBkYXRhKTsKCiAgICAgICAgY2FzZSA1OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICB9CiAgICB9CiAgfSk7Cn0gLy8gIyMjIOS4iuS8oOWIhuWdl+WJjeajgOafpSAtIAovLyBmaWxlTWQ1PWM1Yzc1ZDcwZjM4MmU2MDE2ZDJmNTA2ZDEzNGVlZTExJmNodW5rPTAmY2h1bmtTaXplPTUxCgpleHBvcnQgZnVuY3Rpb24gY2hlY2tjaHVuayhwYXJhbXMpIHsKICB2YXIgX3JlZjIsIGRhdGE7CgogIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gY2hlY2tjaHVuayQoX2NvbnRleHQyKSB7CiAgICB3aGlsZSAoMSkgewogICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGNyZWF0ZUZvcm1BUEkoJy9tZWRpYS91cGxvYWQvY2hlY2tjaHVuaycsICdwb3N0JywgcGFyYW1zLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOycpKTsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgX3JlZjIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgIGRhdGEgPSBfcmVmMi5kYXRhOwogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGRhdGEpOwoKICAgICAgICBjYXNlIDU6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICB9CiAgICB9CiAgfSk7Cn0gLy8gIyMjIOS4iuS8oOWIhuWdl+aWh+S7tgovLyBmaWxlTWQ1PWM1Yzc1ZDcwZjM4MmU2MDE2ZDJmNTA2ZDEzNGVlZTExJmNodW5rPTEgQ29udGVudC1UeXBlOiBtdWx0aXBhcnQvZm9ybS1kYXRhOyBib3VuZGFyeT1XZWJBcHBCb3VuZGFyeQoKZXhwb3J0IGZ1bmN0aW9uIHVwQ2h1bmsocGFyYW1zKSB7CiAgdmFyIF9yZWYzLCBkYXRhOwoKICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHVwQ2h1bmskKF9jb250ZXh0MykgewogICAgd2hpbGUgKDEpIHsKICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh1cGxvYWRWaWRlbygnL21lZGlhL3VwbG9hZC91cGxvYWRjaHVuaycsICdwb3N0JywgcGFyYW1zLCAnbXVsdGlwYXJ0L2Zvcm0tZGF0YTsgYm91bmRhcnk9V2ViQXBwQm91bmRhcnknKSk7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIF9yZWYzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICBkYXRhID0gX3JlZjMuZGF0YTsKICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBkYXRhKTsKCiAgICAgICAgY2FzZSA1OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgfQogICAgfQogIH0pOwp9IC8vICMjIyDlkIjlubbmlofku7YKLy8gZmlsZU1kNT1kY2IzN2I4NWM5YzAzZmM1MjQzZTIwYWI0ZGZiYzFjOCZmaWxlTmFtZT04LmF2aSZjaHVua1N1bT0xJm1pbWV0eXBlPXZpZGVvL3gtbXN2aWRlbyZmaWxlRXh0PWF2aQoKZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQ2h1bmtzKHBhcmFtcykgewogIHZhciBfcmVmNCwgZGF0YTsKCiAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBtZXJnZUNodW5rcyQoX2NvbnRleHQ0KSB7CiAgICB3aGlsZSAoMSkgewogICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGNyZWF0ZUZvcm1BUEkoJy9tZWRpYS91cGxvYWQvbWVyZ2VjaHVua3MnLCAncG9zdCcsIHBhcmFtcywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsnKSk7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIF9yZWY0ID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICBkYXRhID0gX3JlZjQuZGF0YTsKICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBkYXRhKTsKCiAgICAgICAgY2FzZSA1OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgfQogICAgfQogIH0pOwp9"},{"version":3,"sources":["D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\src\\api\\upload.ts"],"names":[],"mappings":";;AAAA,SAAS,aAAT,EAAwB,WAAxB,QAA2C,iBAA3C,C,CAEA;AACA;;AAEA,OAAO,SAAe,UAAf,CAA0B,MAA1B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACoB,aAAa,CAAC,yBAAD,EAA4B,MAA5B,EAAoC,MAApC,EAA4C,oCAA5C,CADjC;;AAAA;AAAA;AACK,UAAA,IADL,QACK,IADL;AAAA,2CAEI,IAFJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C,CAKP;AACA;;AAEA,OAAO,SAAe,UAAf,CAA0B,MAA1B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACoB,aAAa,CAAC,0BAAD,EAA6B,MAA7B,EAAqC,MAArC,EAA6C,oCAA7C,CADjC;;AAAA;AAAA;AACK,UAAA,IADL,SACK,IADL;AAAA,4CAEI,IAFJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C,CAKP;AACA;;AAEA,OAAO,SAAe,OAAf,CAAuB,MAAvB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACoB,WAAW,CAAC,2BAAD,EAA8B,MAA9B,EAAsC,MAAtC,EAA8C,8CAA9C,CAD/B;;AAAA;AAAA;AACK,UAAA,IADL,SACK,IADL;AAAA,4CAEI,IAFJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C,CAKP;AACA;;AAEA,OAAO,SAAe,WAAf,CAA2B,MAA3B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACoB,aAAa,CAAC,2BAAD,EAA8B,MAA9B,EAAsC,MAAtC,EAA8C,oCAA9C,CADjC;;AAAA;AAAA;AACK,UAAA,IADL,SACK,IADL;AAAA,4CAEI,IAFJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { createFormAPI, uploadVideo } from '@/utils/request'\n\n// 上传注册\n// fileMd5=c5c75d70f382e6016d2f506d134eee11&fileName=1.avi&fileSize=51&mimetype=video/x-msvideo&fileExt=avi\n\nexport async function upRegister(params: any) {\n    const { data } = await createFormAPI('/media/upload/checkfile', 'post', params, 'application/x-www-form-urlencoded;')\n    return data\n  }\n\n// ### 上传分块前检查 - \n// fileMd5=c5c75d70f382e6016d2f506d134eee11&chunk=0&chunkSize=51\n\nexport async function checkchunk(params: any) {\n    const { data } = await createFormAPI('/media/upload/checkchunk', 'post', params, 'application/x-www-form-urlencoded;')\n    return data\n}  \n\n// ### 上传分块文件\n// fileMd5=c5c75d70f382e6016d2f506d134eee11&chunk=1 Content-Type: multipart/form-data; boundary=WebAppBoundary\n\nexport async function upChunk(params: any) {\n    const { data } = await uploadVideo('/media/upload/uploadchunk', 'post', params, 'multipart/form-data; boundary=WebAppBoundary')\n    return data\n}    \n\n// ### 合并文件\n// fileMd5=dcb37b85c9c03fc5243e20ab4dfbc1c8&fileName=8.avi&chunkSum=1&mimetype=video/x-msvideo&fileExt=avi\n\nexport async function mergeChunks(params: any) {\n    const { data } = await createFormAPI('/media/upload/mergechunks', 'post', params, 'application/x-www-form-urlencoded;')\n    return data\n}   "],"sourceRoot":""}]}