{"remainingRequest":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\src\\module-entering\\pages\\entering\\components\\company-entering-step2-submit-information.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\src\\module-entering\\pages\\entering\\components\\company-entering-step2-submit-information.vue","mtime":1586849107720},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":1576202003988},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js","mtime":1660903053026},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1660903053930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicNCmltcG9ydCB7IEZvcm0gYXMgRWxGb3JtIH0gZnJvbSAnZWxlbWVudC11aScNCmltcG9ydCBDb21tb25FbnRlcmluZ1N0ZXAyVXBsb2FkSW1hZ2UgZnJvbSAnLi9jb21tb24tZW50ZXJpbmctc3RlcDItdXBsb2FkLWltYWdlLnZ1ZScNCmltcG9ydCBDb21tb25FbnRlcmluZ1N0ZXAyVGVybSBmcm9tICcuL2NvbW1vbi1lbnRlcmluZy1zdGVwMi10ZXJtLnZ1ZScNCmltcG9ydCBDb21tb25FbnRlcmluZ1N0ZXAyTWFpbkNhdGVnb3J5IGZyb20gJy4vY29tbW9uLWVudGVyaW5nLXN0ZXAyLW1haW4tY2F0ZWdvcnkudnVlJw0KaW1wb3J0IENvbW1vbkVudGVyaW5nU3RlcDJQaG9uZVZlcmlmeUNvZGUgZnJvbSAnLi9jb21tb24tZW50ZXJpbmctc3RlcDItcGhvbmUtdmVyaWZ5Q29kZS52dWUnDQppbXBvcnQgeyBzdWJtaXRDb21wYW55IH0gZnJvbSAnQC9hcGkvdGVhY2hpbmctY29tcGFueScNCmltcG9ydCB7IElUZWFjaGluZ0NvbXBhbnkgfSBmcm9tICdAL2VudGl0eS90ZWFjaGluZy1jb21wYW55Jw0KDQpAQ29tcG9uZW50KHsNCiAgY29tcG9uZW50czogew0KICAgIENvbW1vbkVudGVyaW5nU3RlcDJVcGxvYWRJbWFnZSwNCiAgICBDb21tb25FbnRlcmluZ1N0ZXAyVGVybSwNCiAgICBDb21tb25FbnRlcmluZ1N0ZXAyTWFpbkNhdGVnb3J5LA0KICAgIENvbW1vbkVudGVyaW5nU3RlcDJQaG9uZVZlcmlmeUNvZGUNCiAgfQ0KfSkNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBhbnlFbnRlcmluZ1N0ZXAyU3VibWl0Zm9ybSBleHRlbmRzIFZ1ZSB7DQogIHByaXZhdGUgZm9ybTogSVRlYWNoaW5nQ29tcGFueSA9IHsNCiAgICBhZGRyZXNzOiAnJywNCiAgICBuYW1lOiAnJywNCiAgICBwaG9uZTogJycsDQogICAgdGl0bGU6ICcnLA0KICAgIHZlcmlmeUNvZGU6ICcnLA0KICAgIHZlcmlmeUtleTogJycNCiAgfQ0KICAvLyDmiYvmnLrlj7fmraPliJnvvIzlj4LogIPvvJpodHRwOi8vY2FpYmFvamlhbi5jb20vcGhvbmUtcmVnZXhwLmh0bWwNCiAgcHJpdmF0ZSB2YWxpZGF0ZVBob25lID0gKHJ1bGU6IGFueSwgdmFsdWU6IGFueSwgY2FsbGJhY2s6IGFueSkgPT4gew0KICAgIGlmICghL14xWzAtOV17MTB9JC8udGVzdCh2YWx1ZSkpIHsNCiAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5q2j56Gu55qE5omL5py65Y+3JykpDQogICAgfSBlbHNlIHsNCiAgICAgIGNhbGxiYWNrKCkNCiAgICB9DQogIH0NCiAgLy8gVE9ETzog5aKe5YqgcnVsZXPmoKHpqowNCiAgcHJpdmF0ZSBydWxlczogYW55ID0gew0KICAgIC8vIOacuuaehOi1hOaWmQ0KICAgIG5hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ5YWs5Y+45ZCN56ewJywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sDQogICAgYnVzaW5lc3NQaWM6IFsNCiAgICAgIHsNCiAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgIG1lc3NhZ2U6ICfor7fkuIrkvKDmnInlubTmo4Dnq6DnmoTkvIHkuJrokKXkuJrmiafnhaflia/mnKzmiavmj4/ku7YnLA0KICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJw0KICAgICAgfQ0KICAgIF0sDQogICAgYnVzaW5lc3NUZXJtOiBbDQogICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup6JCl5Lia5omn54Wn5pyJ5pWI5pyfJywgdHJpZ2dlcjogJ2NoYW5nZScgfQ0KICAgIF0sDQogICAgYnVzaW5lc3NSZWdpc3RObzogWw0KICAgICAgew0KICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeiQpeS4muaJp+eFp+azqOWGjOWPt+aIlue7n+S4gOekvuS8muS/oeeUqOS7o+eggScsDQogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnDQogICAgICB9DQogICAgXSwNCiAgICBlZHVDZXJ0SW1nOiBbDQogICAgICB7DQogICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICBtZXNzYWdlOiAn6K+35LiK5Lyg5Y+v6K+B5piO5oul5pyJ5pWZ6IKy5Z+56K6t6LWE5qC855qE6K+B5Lmm5omr5o+P5Lu277yM5aaC5Yqe5a2m6K645Y+v6K+BJywNCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScNCiAgICAgIH0NCiAgICBdLA0KICAgIGVkdUNlcnRUZXJtOiBbDQogICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup6K+B5Lu25pyJ5pWI5pyfJywgdHJpZ2dlcjogJ2NoYW5nZScgfQ0KICAgIF0sDQogICAgZWR1Q2VydE5vOiBbDQogICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ6K+B5Lmm57yW5Y+3JywgdHJpZ2dlcjogJ2NoYW5nZScgfQ0KICAgIF0sDQoNCiAgICAvLyDor77loILkv6Hmga8NCiAgICBsb2dvOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+S4iuS8oOacuuaehOWbvuaghycsIHRyaWdnZXI6ICdjaGFuZ2UnIH1dLA0KICAgIHRpdGxlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmeacuuaehOWQjeensCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH1dLA0KICAgIHRyYWRlbWFya1BpYzogWw0KICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+S4iuS8oOWVhuagh+azqOWGjOivgScsIHRyaWdnZXI6ICdjaGFuZ2UnIH0NCiAgICBdLA0KICAgIGludHJvOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmeacuuaehOeugOS7iycsIHRyaWdnZXI6ICdjaGFuZ2UnIH1dLA0KICAgIGJyaWVmSW50cm86IFsNCiAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7floavlhpnkuIDlj6Xor53nroDku4snLCB0cmlnZ2VyOiAnY2hhbmdlJyB9DQogICAgXSwNCiAgICBtYWluQ2F0ZWdvcnk6IFsNCiAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nkuLvokKXnsbvnm64nLCB0cmlnZ2VyOiAnY2hhbmdlJyB9DQogICAgXSwNCg0KICAgIC8vIOeUs+ivt+S6uuS/oeaBrw0KICAgIGxpbmtuYW1lOiBbDQogICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ55Sz6K+35Lq655yf5a6e5aeT5ZCNJywgdHJpZ2dlcjogJ2NoYW5nZScgfQ0KICAgIF0sDQogICAgaGFuZFBob3RvczogWw0KICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+S4iuS8oOaJi+aMgei6q+S7veivgeeahOWNiui6q+eFpycsIHRyaWdnZXI6ICdjaGFuZ2UnIH0NCiAgICBdLA0KICAgIHBob25lOiBbDQogICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35aGr5YaZ5omL5py65Y+356CBJywgdHJpZ2dlcjogJ2NoYW5nZScgfSwNCiAgICAgIHsgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlUGhvbmUsIHRyaWdnZXI6ICdjaGFuZ2UnIH0NCiAgICBdLA0KICAgIHZlcmlmeUNvZGU6IFsNCiAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7floavlhpnpqozor4HnoIEnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9DQogICAgXSwNCiAgICBlbWFpbDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7floavlhpnpgq7nrrEnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9XSwNCiAgICBwcm9taXNlTGV0dGVyOiBbDQogICAgICB7DQogICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICBtZXNzYWdlOg0KICAgICAgICAgICfor7floavlhpnlrozmr5XmnKzpobXpnaLnmoTkv6Hmga/lkI7vvIzngrnlh7vkuIvovb3mib/or7rkuabmqKHmnb/vvIzkuIrkvKDliqDnm5blhaznq6DnmoTmiavmj4/ku7YnLA0KICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJw0KICAgICAgfQ0KICAgIF0NCiAgfQ0KDQogIC8qKg0KICAgKiDmj5DkuqTotYTmlpkNCiAgICovDQogIHB1YmxpYyBhc3luYyBzdWJtaXRDb21wYW55KCk6IFByb21pc2U8Ym9vbGVhbj4gew0KICAgIC8vIFRPRE86IOi/meenjeW1jOWll+aWueW8j+S4jeWlve+8jOS4jeS8mOmbhQ0KICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS95aW1pbmdoZS9hc3luYy12YWxpZGF0b3INCiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgbGV0IGZvcm0xID0gdGhpcy4kcmVmc1snZm9ybTEnXSBhcyBFbEZvcm0NCiAgICAgIGZvcm0xLnZhbGlkYXRlKCh2YWxpZDogYm9vbGVhbikgPT4gew0KICAgICAgICBpZiAoIXZhbGlkKSB7DQogICAgICAgICAgcmVqZWN0KCkNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KDQogICAgICAgIGxldCBmb3JtMiA9IHRoaXMuJHJlZnNbJ2Zvcm0yJ10gYXMgRWxGb3JtDQogICAgICAgIGZvcm0yLnZhbGlkYXRlKCh2YWxpZDogYm9vbGVhbikgPT4gew0KICAgICAgICAgIGlmICghdmFsaWQpIHsNCiAgICAgICAgICAgIHJlamVjdCgpDQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICB9DQoNCiAgICAgICAgICBsZXQgZm9ybTMgPSB0aGlzLiRyZWZzWydmb3JtMyddIGFzIEVsRm9ybQ0KICAgICAgICAgIGZvcm0zLnZhbGlkYXRlKGFzeW5jICh2YWxpZDogYm9vbGVhbikgPT4gew0KICAgICAgICAgICAgaWYgKCF2YWxpZCkgew0KICAgICAgICAgICAgICByZWplY3QoKQ0KICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgYXdhaXQgc3VibWl0Q29tcGFueSh0aGlzLmZvcm0pDQogICAgICAgICAgICByZXNvbHZlKCkNCiAgICAgICAgICB9KQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9KQ0KDQogICAgLy8gVE9ETzog56CU56m25LiL6L+Z56eN5YaZ5rOVDQogICAgLy8gaWYgKGF3YWl0IHRoaXMuZm9ybVZhbGlkYXRlKCdmb3JtMScpKSByZXR1cm4gZmFsc2UNCiAgICAvLyBpZiAoYXdhaXQgdGhpcy5mb3JtVmFsaWRhdGUoJ2Zvcm0yJykpIHJldHVybiBmYWxzZQ0KICAgIC8vIGlmIChhd2FpdCB0aGlzLmZvcm1WYWxpZGF0ZSgnZm9ybTMnKSkgcmV0dXJuIGZhbHNlDQoNCiAgICAvLyBhd2FpdCBzdWJtaXRDb21wYW55KHRoaXMuZm9ybSkNCiAgICAvLyByZXR1cm4gdHJ1ZQ0KICB9DQoNCiAgLy8gcHJpdmF0ZSBmb3JtVmFsaWRhdGUoZm9ybU5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gew0KICAvLyAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogIC8vICAgICBsZXQgZm9ybTEgPSB0aGlzLiRyZWZzW2Zvcm1OYW1lXSBhcyBFbEZvcm0NCiAgLy8gICAgIGZvcm0xLnZhbGlkYXRlKCh2YWxpZDogYm9vbGVhbikgPT4gew0KICAvLyAgICAgICBpZiAoIXZhbGlkKSB7DQogIC8vICAgICAgICAgcmV0dXJuIHJlamVjdCgpDQogIC8vICAgICAgIH0gZWxzZSB7DQogIC8vICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSkNCiAgLy8gICAgICAgfQ0KICAvLyAgICAgfSkNCiAgLy8gICB9KQ0KICAvLyB9DQp9DQo="},{"version":3,"sources":["company-entering-step2-submit-information.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"company-entering-step2-submit-information.vue","sourceRoot":"src/module-entering/pages/entering/components","sourcesContent":["<template>\r\n  <!-- TODO: 可以拆成3个组件，方便维护 -->\r\n  <div class=\"step-body\">\r\n    <!-- 机构资料 -->\r\n    <span class=\"title\">机构资料</span>\r\n    <el-divider></el-divider>\r\n    <el-form ref=\"form1\" :model=\"form\" :rules=\"rules\" class=\"form\" label-width=\"200px\">\r\n      <el-form-item label=\"公司名称：\" prop=\"name\">\r\n        <el-input v-model=\"form.name\" placeholder=\"请填写公司名称\"></el-input>\r\n      </el-form-item>\r\n      <!-- TODO: 校验消息没有及时清除 -->\r\n      <el-form-item label=\"营业执照：\" prop=\"businessPic\">\r\n        <common-entering-step2-upload-image :imageUrl.sync=\"form.businessPic\">请上传有年检章的企业营业执照副本扫描件</common-entering-step2-upload-image>\r\n      </el-form-item>\r\n      <!-- TODO: 证件有效期需大于120天 -->\r\n      <el-form-item label=\"营业执照有效期：\" prop=\"businessTerm\">\r\n        <common-entering-step2-term :term.sync=\"form.businessTerm\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"机构营业执照注册号：\" prop=\"businessRegistNo\">\r\n        <el-input v-model=\"form.businessRegistNo\" placeholder=\"请输入营业执照注册号或统一社会信用代码\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"教育资质证书：\" prop=\"eduCertImg\">\r\n        <common-entering-step2-upload-image\r\n          :imageUrl.sync=\"form.eduCertImg\"\r\n        >请上传可证明拥有教育培训资格的证书扫描件，如办学许可证</common-entering-step2-upload-image>\r\n      </el-form-item>\r\n      <!-- TODO: 证件有效期需大于120天 -->\r\n      <el-form-item label=\"证件有效期：\" prop=\"eduCertTerm\">\r\n        <common-entering-step2-term :term.sync=\"form.eduCertTerm\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"证书编号：\" prop=\"eduCertNo\">\r\n        <el-input v-model=\"form.eduCertNo\" placeholder=\"请填写证书编号\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 课堂信息 -->\r\n    <div class=\"title\">课堂信息</div>\r\n    <el-divider></el-divider>\r\n    <el-form ref=\"form2\" :model=\"form\" :rules=\"rules\" class=\"form\" label-width=\"200px\">\r\n      <el-form-item label=\"机构图标：\" prop=\"logo\">\r\n        <common-entering-step2-upload-image :imageUrl.sync=\"form.logo\">尺寸大于130X130，小于500X500</common-entering-step2-upload-image>\r\n      </el-form-item>\r\n      <el-form-item label=\"机构名称：\" prop=\"title\">\r\n        <el-input v-model=\"form.title\" placeholder=\"请填写机构名称\"></el-input>\r\n        <br />\r\n        <p class=\"el-upload__tip\" style>注：机构名称和机构LOGO名称与营业执照名称一致或有营业执照的关键字，如不一致需提供商标注册权</p>\r\n      </el-form-item>\r\n      <el-form-item label=\"商标注册证：\" prop=\"trademarkPic\">\r\n        <common-entering-step2-upload-image :imageUrl.sync=\"form.trademarkPic\">请上传商标注册证</common-entering-step2-upload-image>\r\n      </el-form-item>\r\n      <el-form-item label=\"机构简介：\" prop=\"intro\">\r\n        <el-input\r\n          type=\"textarea\"\r\n          :rows=\"10\"\r\n          v-model=\"form.intro\"\r\n          placeholder=\"例：传智播客，目前已经成为拥有2000多名员工的教育集团；从成立最初的单一Java学科，到现在已包括JavaEE、Python+人工智能、前端与移动开发、UI/UE设计、大数据、Go语言与区块链等14门学科培训；从屈指可数的几间教室，发展成为分布于北京、上海、广州、深圳、武汉、郑州、西安、长沙、济南、重庆、南京、杭州、成都、石家庄、合肥、太原、厦门、沈阳等18所城市直营中心的规模。\"\r\n          maxlength=\"500\"\r\n          show-word-limit\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"一句话简介：\" prop=\"briefIntro\">\r\n        <el-input v-model=\"form.briefIntro\" placeholder=\"请填写一句话简介\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"主营类目：\" prop=\"mainCategory\">\r\n        <common-entering-step2-main-category :mainCategory.sync=\"form.mainCategory\" />\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 申请人信息 -->\r\n    <div class=\"title\">申请人信息</div>\r\n    <el-divider></el-divider>\r\n    <el-form ref=\"form3\" :model=\"form\" :rules=\"rules\" class=\"form\" label-width=\"200px\">\r\n      <el-form-item label=\"申请人：\" prop=\"linkname\">\r\n        <el-input v-model=\"form.linkname\" placeholder=\"请填写申请人真实姓名\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"手持身份证照片：\" prop=\"handPhotos\">\r\n        <common-entering-step2-upload-image :imageUrl.sync=\"form.handPhotos\">请上传手持身份证的半身照</common-entering-step2-upload-image>\r\n      </el-form-item>\r\n      <el-form-item label=\"手机：\">\r\n        <common-entering-step2-phone-verifyCode :phoneForm.sync=\"form\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱：\" prop=\"email\">\r\n        <el-input v-model=\"form.email\" placeholder=\"请填写邮箱\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"承诺书：\" prop=\"promiseLetter\">\r\n        <common-entering-step2-upload-image :imageUrl.sync=\"form.promiseLetter\">\r\n          请填写完毕本页面的信息后，点击下载\r\n          <a href=\"/doc/承诺书模板.docx\" download>承诺书模板</a>，\r\n          <br />上传加盖公章的扫描件\r\n        </common-entering-step2-upload-image>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { Form as ElForm } from 'element-ui'\r\nimport CommonEnteringStep2UploadImage from './common-entering-step2-upload-image.vue'\r\nimport CommonEnteringStep2Term from './common-entering-step2-term.vue'\r\nimport CommonEnteringStep2MainCategory from './common-entering-step2-main-category.vue'\r\nimport CommonEnteringStep2PhoneVerifyCode from './common-entering-step2-phone-verifyCode.vue'\r\nimport { submitCompany } from '@/api/teaching-company'\r\nimport { ITeachingCompany } from '@/entity/teaching-company'\r\n\r\n@Component({\r\n  components: {\r\n    CommonEnteringStep2UploadImage,\r\n    CommonEnteringStep2Term,\r\n    CommonEnteringStep2MainCategory,\r\n    CommonEnteringStep2PhoneVerifyCode\r\n  }\r\n})\r\nexport default class CompanyEnteringStep2Submitform extends Vue {\r\n  private form: ITeachingCompany = {\r\n    address: '',\r\n    name: '',\r\n    phone: '',\r\n    title: '',\r\n    verifyCode: '',\r\n    verifyKey: ''\r\n  }\r\n  // 手机号正则，参考：http://caibaojian.com/phone-regexp.html\r\n  private validatePhone = (rule: any, value: any, callback: any) => {\r\n    if (!/^1[0-9]{10}$/.test(value)) {\r\n      callback(new Error('请输入正确的手机号'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  // TODO: 增加rules校验\r\n  private rules: any = {\r\n    // 机构资料\r\n    name: [{ required: true, message: '请填写公司名称', trigger: 'change' }],\r\n    businessPic: [\r\n      {\r\n        required: true,\r\n        message: '请上传有年检章的企业营业执照副本扫描件',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    businessTerm: [\r\n      { required: true, message: '请选择营业执照有效期', trigger: 'change' }\r\n    ],\r\n    businessRegistNo: [\r\n      {\r\n        required: true,\r\n        message: '请输入营业执照注册号或统一社会信用代码',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    eduCertImg: [\r\n      {\r\n        required: true,\r\n        message: '请上传可证明拥有教育培训资格的证书扫描件，如办学许可证',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    eduCertTerm: [\r\n      { required: true, message: '请选择证件有效期', trigger: 'change' }\r\n    ],\r\n    eduCertNo: [\r\n      { required: true, message: '请填写证书编号', trigger: 'change' }\r\n    ],\r\n\r\n    // 课堂信息\r\n    logo: [{ required: true, message: '请上传机构图标', trigger: 'change' }],\r\n    title: [{ required: true, message: '请填写机构名称', trigger: 'change' }],\r\n    trademarkPic: [\r\n      { required: true, message: '请上传商标注册证', trigger: 'change' }\r\n    ],\r\n    intro: [{ required: true, message: '请填写机构简介', trigger: 'change' }],\r\n    briefIntro: [\r\n      { required: true, message: '请填写一句话简介', trigger: 'change' }\r\n    ],\r\n    mainCategory: [\r\n      { required: true, message: '请选择主营类目', trigger: 'change' }\r\n    ],\r\n\r\n    // 申请人信息\r\n    linkname: [\r\n      { required: true, message: '请填写申请人真实姓名', trigger: 'change' }\r\n    ],\r\n    handPhotos: [\r\n      { required: true, message: '请上传手持身份证的半身照', trigger: 'change' }\r\n    ],\r\n    phone: [\r\n      { required: true, message: '请填写手机号码', trigger: 'change' },\r\n      { validator: this.validatePhone, trigger: 'change' }\r\n    ],\r\n    verifyCode: [\r\n      { required: true, message: '请填写验证码', trigger: 'change' }\r\n    ],\r\n    email: [{ required: true, message: '请填写邮箱', trigger: 'change' }],\r\n    promiseLetter: [\r\n      {\r\n        required: true,\r\n        message:\r\n          '请填写完毕本页面的信息后，点击下载承诺书模板，上传加盖公章的扫描件',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  }\r\n\r\n  /**\r\n   * 提交资料\r\n   */\r\n  public async submitCompany(): Promise<boolean> {\r\n    // TODO: 这种嵌套方式不好，不优雅\r\n    // https://github.com/yiminghe/async-validator\r\n    return new Promise((resolve, reject) => {\r\n      let form1 = this.$refs['form1'] as ElForm\r\n      form1.validate((valid: boolean) => {\r\n        if (!valid) {\r\n          reject()\r\n          return\r\n        }\r\n\r\n        let form2 = this.$refs['form2'] as ElForm\r\n        form2.validate((valid: boolean) => {\r\n          if (!valid) {\r\n            reject()\r\n            return\r\n          }\r\n\r\n          let form3 = this.$refs['form3'] as ElForm\r\n          form3.validate(async (valid: boolean) => {\r\n            if (!valid) {\r\n              reject()\r\n              return\r\n            }\r\n\r\n            await submitCompany(this.form)\r\n            resolve()\r\n          })\r\n        })\r\n      })\r\n    })\r\n\r\n    // TODO: 研究下这种写法\r\n    // if (await this.formValidate('form1')) return false\r\n    // if (await this.formValidate('form2')) return false\r\n    // if (await this.formValidate('form3')) return false\r\n\r\n    // await submitCompany(this.form)\r\n    // return true\r\n  }\r\n\r\n  // private formValidate(formName: string): Promise<boolean> {\r\n  //   return new Promise((resolve, reject) => {\r\n  //     let form1 = this.$refs[formName] as ElForm\r\n  //     form1.validate((valid: boolean) => {\r\n  //       if (!valid) {\r\n  //         return reject()\r\n  //       } else {\r\n  //         return resolve(true)\r\n  //       }\r\n  //     })\r\n  //   })\r\n  // }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.step-body {\r\n  .title {\r\n    font-size: 24px;\r\n  }\r\n\r\n  .form {\r\n    width: 700px;\r\n    padding-top: 40px;\r\n\r\n    .el-upload__tip {\r\n      line-height: 20px;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}