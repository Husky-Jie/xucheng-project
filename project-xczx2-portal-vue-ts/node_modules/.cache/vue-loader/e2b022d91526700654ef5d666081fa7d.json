{"remainingRequest":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\src\\module-organization\\pages\\course-manage\\course-add-step3-teacher.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\src\\module-organization\\pages\\course-manage\\course-add-step3-teacher.vue","mtime":1665297042501},{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":1576202003988},{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js","mtime":1660903053026},{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\Java学习\\xucheng-project\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1660903053930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFByb3BTeW5jLCBXYXRjaCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicNCmltcG9ydCB7IG1peGlucyB9IGZyb20gJ3Z1ZS1jbGFzcy1jb21wb25lbnQnDQppbXBvcnQgeyBJS1ZEYXRhIH0gZnJvbSAnQC9hcGkvdHlwZXMnDQppbXBvcnQgeyBnZXRUZWFjaGVycywgZGVsZXRlVGVhY2hlciB9IGZyb20gJ0AvYXBpL2NvdXJzZXMnDQppbXBvcnQgeyBJQ291cnNlVGVhY2hlckxpc3QgfSBmcm9tICdAL2VudGl0eS9jb3Vyc2UtYWRkLXRlYWNoZXInDQppbXBvcnQgU2F2ZVRlYWNoZXJEaWFsb2cgZnJvbSAnLi9jb3Vyc2UtYWRkLXN0ZXAzLXRlYWNoZXItZGlhbG9nLnZ1ZScNCmltcG9ydCBNaXhpblRvb2xzIGZyb20gJ0AvdXRpbHMvbWl4aW5zLnZ1ZScNCg0KQENvbXBvbmVudCh7DQogIG5hbWU6ICdDb3Vyc2VBZGRTdGVwM1RlYWNoZXInLA0KICBjb21wb25lbnRzOiB7IFNhdmVUZWFjaGVyRGlhbG9nIH0NCn0pDQpleHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIG1peGlucyhNaXhpblRvb2xzKSB7DQogIEBQcm9wKHsgdHlwZTogTnVtYmVyIH0pDQogIGNvdXJzZUJhc2VJZCE6IG51bWJlcg0KDQogIC8vIOafpeivog0KICBwcml2YXRlIGxpc3REYXRhOiBJQ291cnNlVGVhY2hlckxpc3RbXSA9IFtdIC8vIOaVsOaNruS9kw0KICBwcml2YXRlIGxpc3RMb2FkaW5nOiBib29sZWFuID0gZmFsc2UgLy8g5piv5ZCm6L295YWl5LitDQogIHByaXZhdGUgaXNEaWFsb2dWaXNpYmxlOiBib29sZWFuID0gZmFsc2UNCg0KICAvLyDlvZPliY3nvJbovpHnmoTogIHluIgNCiAgcHJpdmF0ZSB0ZWFjaGVyRGF0YTogSUNvdXJzZVRlYWNoZXJMaXN0ID0gew0KICAgIGNvdXJzZUlkOiB0aGlzLmNvdXJzZUJhc2VJZCwNCiAgICB0ZWFjaGVyTmFtZTogJycsDQogICAgcG9zaXRpb246ICcnLA0KICAgIGludHJvZHVjdGlvbjogJycNCiAgfQ0KDQogIC8vIOiOt+WPluiAgeW4iOWIl+ihqA0KICBwdWJsaWMgYXN5bmMgZ2V0TGlzdCgpIHsNCiAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZQ0KICAgIHRoaXMubGlzdERhdGEgPSBhd2FpdCBnZXRUZWFjaGVycyh0aGlzLmNvdXJzZUJhc2VJZCkNCiAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UNCiAgfQ0KDQogIC8vIOa3u+WKoA0KICBwcml2YXRlIGhhbmRsZUFkZCgpIHsNCiAgICB0aGlzLnRlYWNoZXJEYXRhID0gew0KICAgICAgY291cnNlSWQ6IHRoaXMuY291cnNlQmFzZUlkLA0KICAgICAgdGVhY2hlck5hbWU6ICcnLA0KICAgICAgcG9zaXRpb246ICcnLA0KICAgICAgaW50cm9kdWN0aW9uOiAnJw0KICAgIH0NCiAgICB0aGlzLmlzRGlhbG9nVmlzaWJsZSA9IHRydWUNCiAgfQ0KDQogIC8vIOS/ruaUuQ0KICBwcml2YXRlIGhhbmRsZUVkaXQoZGF0YTogSUNvdXJzZVRlYWNoZXJMaXN0KSB7DQogICAgLy8gZGVidWdnZXINCiAgICB0aGlzLnRlYWNoZXJEYXRhID0gZGF0YQ0KICAgIHRoaXMuaXNEaWFsb2dWaXNpYmxlID0gdHJ1ZQ0KICB9DQoNCiAgLy8g5Yig6ZmkDQogIHByaXZhdGUgYXN5bmMgaGFuZGxlRGVsZXRlKGRhdGE6IElDb3Vyc2VUZWFjaGVyTGlzdCkgew0KICAgIHRyeSB7DQogICAgICBhd2FpdCB0aGlzLnNob3dEZWxldGVDb25maXJtKCkNCiAgICAgIGF3YWl0IGRlbGV0ZVRlYWNoZXIodGhpcy5jb3Vyc2VCYXNlSWQsIGRhdGEuaWQpDQogICAgICBhd2FpdCB0aGlzLmdldExpc3QoKQ0KICAgIH0gY2F0Y2ggKGVycm9yKSB7fQ0KICB9DQp9DQo="},{"version":3,"sources":["course-add-step3-teacher.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"course-add-step3-teacher.vue","sourceRoot":"src/module-organization/pages/course-manage","sourcesContent":["<template>\r\n  <div class=\"step-body\">\r\n    <div class=\"banner\">\r\n      <el-button type=\"primary\" size=\"medium\" class=\"btn-add el-button\" @click=\"handleAdd\">+添加教师</el-button>\r\n    </div>\r\n\r\n    <!-- 数据列表 -->\r\n    <el-table\r\n      class=\"dataList\"\r\n      v-loading=\"listLoading\"\r\n      :data=\"listData\"\r\n      border\r\n      style=\"width: 100%\"\r\n      :header-cell-style=\"{textAlign: 'center'}\"\r\n    >\r\n      <el-table-column prop=\"teacherName\" label=\"教师名称\" align=\"center\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"position\" label=\"教师职位\" align=\"center\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"introduction\" label=\"教师简介\" width=\"600\"></el-table-column>\r\n      <el-table-column label=\"教师照片\" align=\"center\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.photograph\" :alt=\"scope.row.teacherName\" width=\"90\" />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n          <el-button type=\"text\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 对话框 -->\r\n    <SaveTeacherDialog\r\n      ref=\"dialog\"\r\n      :dialogVisible.sync=\"isDialogVisible\"\r\n      :teacherData=\"teacherData\"\r\n      @complete=\"getList\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Prop, PropSync, Watch, Vue } from 'vue-property-decorator'\r\nimport { mixins } from 'vue-class-component'\r\nimport { IKVData } from '@/api/types'\r\nimport { getTeachers, deleteTeacher } from '@/api/courses'\r\nimport { ICourseTeacherList } from '@/entity/course-add-teacher'\r\nimport SaveTeacherDialog from './course-add-step3-teacher-dialog.vue'\r\nimport MixinTools from '@/utils/mixins.vue'\r\n\r\n@Component({\r\n  name: 'CourseAddStep3Teacher',\r\n  components: { SaveTeacherDialog }\r\n})\r\nexport default class extends mixins(MixinTools) {\r\n  @Prop({ type: Number })\r\n  courseBaseId!: number\r\n\r\n  // 查询\r\n  private listData: ICourseTeacherList[] = [] // 数据体\r\n  private listLoading: boolean = false // 是否载入中\r\n  private isDialogVisible: boolean = false\r\n\r\n  // 当前编辑的老师\r\n  private teacherData: ICourseTeacherList = {\r\n    courseId: this.courseBaseId,\r\n    teacherName: '',\r\n    position: '',\r\n    introduction: ''\r\n  }\r\n\r\n  // 获取老师列表\r\n  public async getList() {\r\n    this.listLoading = true\r\n    this.listData = await getTeachers(this.courseBaseId)\r\n    this.listLoading = false\r\n  }\r\n\r\n  // 添加\r\n  private handleAdd() {\r\n    this.teacherData = {\r\n      courseId: this.courseBaseId,\r\n      teacherName: '',\r\n      position: '',\r\n      introduction: ''\r\n    }\r\n    this.isDialogVisible = true\r\n  }\r\n\r\n  // 修改\r\n  private handleEdit(data: ICourseTeacherList) {\r\n    // debugger\r\n    this.teacherData = data\r\n    this.isDialogVisible = true\r\n  }\r\n\r\n  // 删除\r\n  private async handleDelete(data: ICourseTeacherList) {\r\n    try {\r\n      await this.showDeleteConfirm()\r\n      await deleteTeacher(this.courseBaseId, data.id)\r\n      await this.getList()\r\n    } catch (error) {}\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.step-body {\r\n  // width: 600px;\r\n  margin: 0px auto;\r\n  .banner {\r\n    text-align: right;\r\n    padding-bottom: 10px;\r\n  }\r\n}\r\n</style>\r\n"]}]}