{"remainingRequest":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\src\\module-organization\\pages\\teaching-company\\company.vue?vue&type=style&index=0&id=11f966df&lang=scss&scoped=true&","dependencies":[{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\src\\module-organization\\pages\\teaching-company\\company.vue","mtime":1578755244377},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\css-loader\\dist\\cjs.js","mtime":1660903053592},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1660903053930},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\postcss-loader\\src\\index.js","mtime":1576202027988},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1660903055666},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1660903053930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLndvcmtzcGFjZSB7DQogIC5iYW5uZXIgew0KICAgIC5idG4tYWRkIHsNCiAgICAgIGZsb2F0OiByaWdodDsNCiAgICB9DQogICAgLmJ0bi1lZGl0IHsNCiAgICAgIHBhZGRpbmctbGVmdDogMTBweDsNCiAgICB9DQogIH0NCiAgLmZvcm0gew0KICAgIHBhZGRpbmctdG9wOiAyMHB4Ow0KICAgIHdpZHRoOiA2MDBweDsNCiAgICBtYXJnaW46IDBweCBhdXRvOw0KICB9DQp9DQo="},{"version":3,"sources":["company.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"company.vue","sourceRoot":"src/module-organization/pages/teaching-company","sourcesContent":["<template>\r\n  <div class=\"workspace\">\r\n    <div class=\"banner\">\r\n      <span class=\"primary-title\">机构资料</span>\r\n      <span class=\"btn-edit\" v-if=\"isEdit===false\">\r\n        <el-button type=\"text\" size=\"mini\" @click=\"isEdit=true\" icon=\"el-icon-edit\">修改</el-button>\r\n      </span>\r\n      <el-button\r\n        v-if=\"isEdit\"\r\n        type=\"primary\"\r\n        size=\"medium\"\r\n        class=\"btn-add el-button\"\r\n        @click=\"handleSave\"\r\n        :loading=\"loading\"\r\n      >保存</el-button>\r\n    </div>\r\n\r\n    <!-- 表单 -->\r\n    <div class=\"form\">\r\n      <el-form\r\n        ref=\"form\"\r\n        v-if=\"companyData\"\r\n        :model=\"companyData\"\r\n        :rules=\"rules\"\r\n        label-width=\"120px\"\r\n      >\r\n        <el-form-item label=\"机构名称：\" prop=\"name\">\r\n          <el-input v-model=\"companyData.name\" :disabled=\"!isEdit\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"机构所在地区：\" prop=\"address\">\r\n          <el-input v-model=\"companyData.address\" :disabled=\"!isEdit\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"机构联系方式：\" prop=\"phone\">\r\n          <el-input v-model=\"companyData.phone\" :disabled=\"!isEdit\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"机构邮箱：\" prop=\"email\">\r\n          <el-input v-model=\"companyData.email\" :disabled=\"!isEdit\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"机构简介：\" prop=\"briefIntro\">\r\n          <el-input v-model=\"companyData.briefIntro\" :disabled=\"!isEdit\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"课程类目：\" prop=\"mainCategory\">\r\n          <el-input v-model=\"companyData.mainCategory\" :disabled=\"!isEdit\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <!-- end -->\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Prop, Watch, Vue } from 'vue-property-decorator'\r\nimport { mixins } from 'vue-class-component'\r\nimport { IKVData } from '@/api/types' // 通用 interface\r\nimport { getCompany, updateCompany } from '@/api/teaching-company' // api interface 课程\r\nimport { ITeachingCompany } from '@/entity/teaching-company'\r\nimport { ICourseCategory } from '@/entity/course-add-base'\r\nimport MixinTools from '@/utils/mixins.vue'\r\nimport { Form as ElForm } from 'element-ui'\r\n\r\n@Component({\r\n  name: 'CompanyInfo',\r\n  components: {}\r\n})\r\nexport default class extends mixins(MixinTools) {\r\n  private isEdit: boolean = false\r\n  private loading: boolean = false\r\n  private companyData!: ITeachingCompany\r\n  private categoryTreeData: ICourseCategory[] = []\r\n  private defaultProps = {\r\n    children: 'childrenTreeNodes',\r\n    value: 'id',\r\n    label: 'label'\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    // this.companyData = {\r\n    //   name: '',\r\n    //   address: '',\r\n    //   phone: '',\r\n    //   email: '',\r\n    //   briefIntro: '',\r\n    //   mainCategory: ''\r\n    // }\r\n    // TODO: 测试此功能\r\n    this.companyData = {\r\n      address: '',\r\n      name: '',\r\n      phone: '',\r\n      title: '',\r\n      verifyCode: '',\r\n      verifyKey: ''\r\n    }\r\n  }\r\n\r\n  private rules = {\r\n    name: [{ required: true, message: '请输入名称', trigger: 'blur' }]\r\n  }\r\n\r\n  ///////////////////////////\r\n  /// 业务\r\n\r\n  private async getDate() {\r\n    this.companyData = await getCompany()\r\n  }\r\n\r\n  ///////////////////////////\r\n  /// 生命周期\r\n\r\n  created() {\r\n    this.getDate()\r\n  }\r\n\r\n  ///////////////////////////\r\n  /// 事件\r\n\r\n  private async handleSave() {\r\n    let form: ElForm = this.$refs['form'] as ElForm\r\n    form.validate(async (valid: boolean) => {\r\n      if (valid) {\r\n        this.loading = true\r\n        await updateCompany(this.companyData)\r\n        this.showMessage('添加成功')\r\n        setTimeout(() => {\r\n          this.loading = false\r\n          this.isEdit = false\r\n          return true\r\n        }, 0.5 * 1000)\r\n      } else {\r\n        return false\r\n      }\r\n    })\r\n  }\r\n\r\n  ///////////////////////////\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.workspace {\r\n  .banner {\r\n    .btn-add {\r\n      float: right;\r\n    }\r\n    .btn-edit {\r\n      padding-left: 10px;\r\n    }\r\n  }\r\n  .form {\r\n    padding-top: 20px;\r\n    width: 600px;\r\n    margin: 0px auto;\r\n  }\r\n}\r\n</style>\r\n"]}]}