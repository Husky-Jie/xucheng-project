{"remainingRequest":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\src\\module-portal\\pages\\login\\components\\login-form.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\src\\module-portal\\pages\\login\\components\\login-form.vue","mtime":1586860036038},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":1576202003988},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js","mtime":1660903053026},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1660903053930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicNCmltcG9ydCB7IEZvcm0gYXMgRWxGb3JtLCBJbnB1dCB9IGZyb20gJ2VsZW1lbnQtdWknDQppbXBvcnQgeyBpc1ZhbGlkVXNlck5hbWUgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJw0KaW1wb3J0IHsgVXNlck1vZHVsZSB9IGZyb20gJ0Avc3RvcmUvbW9kdWxlcy91c2VyJw0KDQpAQ29tcG9uZW50DQpleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpbkZvcm0gZXh0ZW5kcyBWdWUgew0KICBwcml2YXRlIGF1dG9Mb2dpbjogYm9vbGVhbiA9IGZhbHNlDQogIHByaXZhdGUgbG9hZGluZyA9IGZhbHNlDQoNCiAgcHJpdmF0ZSB2YWxpZGF0ZVVzZXJOYW1lID0gKHJ1bGU6IGFueSwgdmFsdWU6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7DQogICAgaWYgKCFpc1ZhbGlkVXNlck5hbWUodmFsdWUpKSB7DQogICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ1BsZWFzZSBlbnRlciB0aGUgY29ycmVjdCB1c2VyIG5hbWUnKSkNCiAgICB9IGVsc2Ugew0KICAgICAgY2FsbGJhY2soKQ0KICAgIH0NCiAgfQ0KICBwcml2YXRlIHZhbGlkYXRlUGFzc3dvcmQgPSAocnVsZTogYW55LCB2YWx1ZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pID0+IHsNCiAgICBpZiAodmFsdWUubGVuZ3RoIDwgNikgew0KICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdUaGUgcGFzc3dvcmQgY2FuIG5vdCBiZSBsZXNzIHRoYW4gNiBkaWdpdHMnKSkNCiAgICB9IGVsc2Ugew0KICAgICAgY2FsbGJhY2soKQ0KICAgIH0NCiAgfQ0KDQogIHByaXZhdGUgbG9naW5SdWxlcyA9IHsNCiAgICAvLyB1c2VybmFtZTogW3sgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlVXNlck5hbWUsIHRyaWdnZXI6ICdibHVyJyB9XSwNCiAgICAvLyBwYXNzd29yZDogW3sgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlUGFzc3dvcmQsIHRyaWdnZXI6ICdibHVyJyB9XQ0KICAgIHVzZXJuYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsIHRyaWdnZXI6ICdibHVyJyB9XSwNCiAgICBwYXNzd29yZDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLCB0cmlnZ2VyOiAnYmx1cicgfV0NCiAgfQ0KDQogIHByaXZhdGUgbG9naW5Gb3JtID0gew0KICAgIHVzZXJuYW1lOiAnJywNCiAgICBwYXNzd29yZDogJycNCiAgICAvL3VzZXJuYW1lOiAnMTUwMjIyMjIyMjcnLA0KICAgIC8vcGFzc3dvcmQ6ICcxMjM0NTYnDQogIH0NCg0KICBwcml2YXRlIGhhbmRsZUxvZ2luKCkgew0KICAgIC8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dpbk5hbWUnLCB0aGlzLmxvZ2luRm9ybS5sb2dpbk5hbWUpDQogICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Bhc3N3b3JkJywgdGhpcy5sb2dpbkZvcm0ucGFzc3dvcmQpDQogICAgbGV0IGxvZ2luRm9ybTogRWxGb3JtID0gdGhpcy4kcmVmcy5sb2dpbkZvcm0gYXMgRWxGb3JtDQogICAgbG9naW5Gb3JtLnZhbGlkYXRlKGFzeW5jICh2YWxpZDogYm9vbGVhbikgPT4gew0KICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgIC8vIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgICAgYXdhaXQgVXNlck1vZHVsZS5Mb2dpbih0aGlzLmxvZ2luRm9ybSkNCiAgICAgICAgbG9jYXRpb24uaHJlZiA9IGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQ0xJRU5UX1BPUlRBTF9VUkx9L3BhZ2VzL2xlYXJpbmctaW5kZXguaHRtbGANCiAgICAgICAgLy8gdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgIH0pDQogIH0NCn0NCg=="},{"version":3,"sources":["login-form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login-form.vue","sourceRoot":"src/module-portal/pages/login/components","sourcesContent":["<template>\r\n  <div class=\"signItem\">\r\n    <el-form\r\n      ref=\"loginForm\"\r\n      label-position=\"top\"\r\n      label-width=\"80px\"\r\n      :model=\"loginForm\"\r\n      :rules=\"loginRules\"\r\n    >\r\n      <el-form-item label=\"账户名\" prop=\"username\">\r\n        <el-input v-model=\"loginForm.username\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"登录密码\" prop=\"password\">\r\n        <el-input type=\"password\" v-model=\"loginForm.password\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-row>\r\n          <el-col :span=\"20\">\r\n            <el-checkbox v-model=\"autoLogin\">自动登录</el-checkbox>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <router-link to=\"/forget-password\">忘记密码</router-link>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button :loading=\"loading\" type=\"primary\" style=\"width:100%;\" @click=\"handleLogin\">登录</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { Form as ElForm, Input } from 'element-ui'\r\nimport { isValidUserName } from '@/utils/validate'\r\nimport { UserModule } from '@/store/modules/user'\r\n\r\n@Component\r\nexport default class LoginForm extends Vue {\r\n  private autoLogin: boolean = false\r\n  private loading = false\r\n\r\n  private validateUserName = (rule: any, value: string, callback: Function) => {\r\n    if (!isValidUserName(value)) {\r\n      callback(new Error('Please enter the correct user name'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  private validatePassword = (rule: any, value: string, callback: Function) => {\r\n    if (value.length < 6) {\r\n      callback(new Error('The password can not be less than 6 digits'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n\r\n  private loginRules = {\r\n    // username: [{ validator: this.validateUserName, trigger: 'blur' }],\r\n    // password: [{ validator: this.validatePassword, trigger: 'blur' }]\r\n    username: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\r\n    password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\r\n  }\r\n\r\n  private loginForm = {\r\n    username: '',\r\n    password: ''\r\n    //username: '15022222227',\r\n    //password: '123456'\r\n  }\r\n\r\n  private handleLogin() {\r\n    // localStorage.setItem('loginName', this.loginForm.loginName)\r\n    // localStorage.setItem('password', this.loginForm.password)\r\n    let loginForm: ElForm = this.$refs.loginForm as ElForm\r\n    loginForm.validate(async (valid: boolean) => {\r\n      if (valid) {\r\n        // this.loading = true\r\n        await UserModule.Login(this.loginForm)\r\n        location.href = `${process.env.VUE_APP_CLIENT_PORTAL_URL}/pages/learing-index.html`\r\n        // this.loading = false\r\n      } else {\r\n        return false\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n"]}]}