{"remainingRequest":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\src\\module-organization\\pages\\course-manage\\course-add-step3-teacher.vue?vue&type=style&index=0&id=61ee2310&lang=scss&scoped=true&","dependencies":[{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\src\\module-organization\\pages\\course-manage\\course-add-step3-teacher.vue","mtime":1648825652525},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\css-loader\\dist\\cjs.js","mtime":1660903053592},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1660903053930},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\postcss-loader\\src\\index.js","mtime":1576202027988},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1660903055666},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2022\\xc_edu3.0\\code_0\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1660903053930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouc3RlcC1ib2R5IHsNCiAgLy8gd2lkdGg6IDYwMHB4Ow0KICBtYXJnaW46IDBweCBhdXRvOw0KICAuYmFubmVyIHsNCiAgICB0ZXh0LWFsaWduOiByaWdodDsNCiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDsNCiAgfQ0KfQ0K"},{"version":3,"sources":["course-add-step3-teacher.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"course-add-step3-teacher.vue","sourceRoot":"src/module-organization/pages/course-manage","sourcesContent":["<template>\r\n  <div class=\"step-body\">\r\n    <div class=\"banner\">\r\n      <el-button type=\"primary\" size=\"medium\" class=\"btn-add el-button\" @click=\"handleAdd\">+添加教师</el-button>\r\n    </div>\r\n\r\n    <!-- 数据列表 -->\r\n    <el-table\r\n      class=\"dataList\"\r\n      v-loading=\"listLoading\"\r\n      :data=\"listData\"\r\n      border\r\n      style=\"width: 100%\"\r\n      :header-cell-style=\"{textAlign: 'center'}\"\r\n    >\r\n      <el-table-column prop=\"teacherName\" label=\"教师名称\" align=\"center\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"position\" label=\"教师职位\" align=\"center\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"introduction\" label=\"教师简介\" width=\"600\"></el-table-column>\r\n      <el-table-column label=\"教师照片\" align=\"center\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.photograph\" :alt=\"scope.row.teacherName\" width=\"90\" />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n          <el-button type=\"text\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 对话框 -->\r\n    <SaveTeacherDialog\r\n      ref=\"dialog\"\r\n      :dialogVisible.sync=\"isDialogVisible\"\r\n      :teacherData=\"teacherData\"\r\n      @complete=\"getList\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Prop, PropSync, Watch, Vue } from 'vue-property-decorator'\r\nimport { mixins } from 'vue-class-component'\r\nimport { IKVData } from '@/api/types'\r\nimport { getTeachers, deleteTeacher } from '@/api/courses'\r\nimport { ICourseTeacherList } from '@/entity/course-add-teacher'\r\nimport SaveTeacherDialog from './course-add-step3-teacher-dialog.vue'\r\nimport MixinTools from '@/utils/mixins.vue'\r\n\r\n@Component({\r\n  name: 'CourseAddStep3Teacher',\r\n  components: { SaveTeacherDialog }\r\n})\r\nexport default class extends mixins(MixinTools) {\r\n  @Prop({ type: Number })\r\n  courseBaseId!: number\r\n\r\n  // 查询\r\n  private listData: ICourseTeacherList[] = [] // 数据体\r\n  private listLoading: boolean = false // 是否载入中\r\n  private isDialogVisible: boolean = false\r\n\r\n  // 当前编辑的老师\r\n  private teacherData: ICourseTeacherList = {\r\n    courseId: this.courseBaseId,\r\n    teacherName: '',\r\n    position: '',\r\n    introduction: ''\r\n  }\r\n\r\n  // 获取老师列表\r\n  public async getList() {\r\n    this.listLoading = true\r\n    this.listData = await getTeachers(this.courseBaseId)\r\n    this.listLoading = false\r\n  }\r\n\r\n  // 添加\r\n  private handleAdd() {\r\n    this.teacherData = {\r\n      courseId: this.courseBaseId,\r\n      teacherName: '',\r\n      position: '',\r\n      introduction: ''\r\n    }\r\n    this.isDialogVisible = true\r\n  }\r\n\r\n  // 修改\r\n  private handleEdit(data: ICourseTeacherList) {\r\n    // debugger\r\n    this.teacherData = data\r\n    this.isDialogVisible = true\r\n  }\r\n\r\n  // 删除\r\n  private async handleDelete(data: ICourseTeacherList) {\r\n    try {\r\n      await this.showDeleteConfirm()\r\n      await deleteTeacher(this.courseBaseId, data.courseTeacherId)\r\n      await this.getList()\r\n    } catch (error) {}\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.step-body {\r\n  // width: 600px;\r\n  margin: 0px auto;\r\n  .banner {\r\n    text-align: right;\r\n    padding-bottom: 10px;\r\n  }\r\n}\r\n</style>\r\n"]}]}