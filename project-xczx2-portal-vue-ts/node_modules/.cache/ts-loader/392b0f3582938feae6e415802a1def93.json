{"remainingRequest":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js!D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js!D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js??ref--13-3!D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\src\\module-organization\\pages\\course-manage\\course-add-step2-outline.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\src\\module-organization\\pages\\course-manage\\course-add-step2-outline.vue","mtime":1665411257347},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1577501203546},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":1576202003988},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\ts-loader\\index.js","mtime":1660903053026},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660903053464},{"path":"D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1660903053930}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOlxcaXRjYXN0MjAyM1xceGNfZWR1My4xXFxjb2RlXzQwMlxccHJvamVjdC14Y3p4Mi1wb3J0YWwtdnVlLXRzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOlxcaXRjYXN0MjAyM1xceGNfZWR1My4xXFxjb2RlXzQwMlxccHJvamVjdC14Y3p4Mi1wb3J0YWwtdnVlLXRzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkQ6XFxpdGNhc3QyMDIzXFx4Y19lZHUzLjFcXGNvZGVfNDAyXFxwcm9qZWN0LXhjengyLXBvcnRhbC12dWUtdHNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiRDpcXGl0Y2FzdDIwMjNcXHhjX2VkdTMuMVxcY29kZV80MDJcXHByb2plY3QteGN6eDItcG9ydGFsLXZ1ZS10c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRDpcXGl0Y2FzdDIwMjNcXHhjX2VkdTMuMVxcY29kZV80MDJcXHByb2plY3QteGN6eDItcG9ydGFsLXZ1ZS10c1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSAidHNsaWIiOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgeyBtaXhpbnMgfSBmcm9tICd2dWUtY2xhc3MtY29tcG9uZW50JzsKaW1wb3J0IHsgc3VibWl0T3V0bGluZU5vZGUsIGRlbGV0ZU91dGxpbmVOb2RlLCBtb3ZlRG93blN1Ym1pdCwgbW92ZVVwU3VibWl0LCBnZXRPdXRsaW5lLCBtZWRpYUFzc29jaWF0aW9uLCB3b3JrQXNzb2NpYXRpb24sIG1lZGlhVW5Bc3NvY2lhdGlvbiwgd29ya1VuQXNzb2NpYXRpb24gfSBmcm9tICdAL2FwaS9jb3Vyc2VzJzsKaW1wb3J0IE91dGxpbmVTZWxlY3REaWFsb2cgZnJvbSAiLi9jb3Vyc2UtYWRkLXN0ZXAyLXNlbGVjdC1kaWFsb2cudnVlIjsKaW1wb3J0IE1peGluVG9vbHMgZnJvbSAnQC91dGlscy9taXhpbnMudnVlJzsKbW9tZW50LmxvY2FsZSgnemgtY24nKTsgLy8g5pe26Ze05qC85byP5YyWCgp2YXIgZGVmYXVsdF8xID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX21peGlucykgewogIF9pbmhlcml0cyhkZWZhdWx0XzEsIF9taXhpbnMpOwoKICBmdW5jdGlvbiBkZWZhdWx0XzEocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgZGVmYXVsdF8xKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihkZWZhdWx0XzEpLmNhbGwodGhpcywgcHJvcHMpKTsKICAgIF90aGlzLmRlZmF1bHRQcm9wcyA9IHsKICAgICAgY2hpbGRyZW46ICd0ZWFjaFBsYW5UcmVlTm9kZXMnLAogICAgICBsYWJlbDogJ3BuYW1lJwogICAgfTsKICAgIF90aGlzLm1lZGlhRGlhbG9nVmlzaWJsZSA9IGZhbHNlOyAvLyDpgInmi6nlqpLkvZPnqpflj6MKCiAgICBfdGhpcy5jdXJTZWxlY3ROb2RlID0ge307IC8vIOW9k+WJjeaTjeS9nOeahOWqkuS9kwoKICAgIF90aGlzLnNlbGVjdFR5cGUgPSAnJzsgLy8gdmlkZW8gZmlsZSBkb2MKCiAgICBfdGhpcy5zZWxlY3RUeXBlVGl0bGUgPSAnJzsKICAgIF90aGlzLm91dGxpbmVEYXRhID0gewogICAgICBjb3Vyc2VJZDogX3RoaXMuY291cnNlQmFzZUlkLAogICAgICBtZWRpYVR5cGU6ICcnLAogICAgICBwbmFtZTogJycsCiAgICAgIHRlYWNoUGxhblRyZWVOb2RlczogW10KICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIC8qDQogICDlip/og73lh73mlbANCiAgICovCiAgLy8g6YeN572u5aqS5L2T6YCJ5oupCgoKICBfY3JlYXRlQ2xhc3MoZGVmYXVsdF8xLCBbewogICAga2V5OiAicmVzdFNlbGVjdGVkRGlhbG9nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXN0U2VsZWN0ZWREaWFsb2coKSB7CiAgICAgIHZhciBzZWxEaWFsb2cgPSB0aGlzLiRyZWZzWydvdXRsaW5lU2VsZWN0RGlhbG9nJ107CiAgICAgIHNlbERpYWxvZy5yZXN0Rm9ybSgpOwogICAgfSAvLyDor7vlj5blpKfnurIKCiAgfSwgewogICAga2V5OiAiZ2V0TGlzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIGRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gZ2V0TGlzdCQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCEodGhpcy5jb3Vyc2VCYXNlSWQgIT0gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGdldE91dGxpbmUodGhpcy5jb3Vyc2VCYXNlSWQpKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgLy8gZGVidWdnZXIKICAgICAgICAgICAgICAvLyDorr7nva7lj6/nvJbovpHnirbmgIEKICAgICAgICAgICAgICAvLyDkuoznuqcKICAgICAgICAgICAgICAvLyBpZiAoCiAgICAgICAgICAgICAgLy8gICBkYXRhLnRlYWNoUGxhblRyZWVOb2RlcyAhPT0gbnVsbCAmJgogICAgICAgICAgICAgIC8vICAgZGF0YS50ZWFjaFBsYW5UcmVlTm9kZXMgIT09IHVuZGVmaW5lZAogICAgICAgICAgICAgIC8vICkgewogICAgICAgICAgICAgIC8vICAgZGF0YS50ZWFjaFBsYW5UcmVlTm9kZXMgPSBkYXRhLnRlYWNoUGxhblRyZWVOb2Rlcy5tYXAoKHY6IGFueSkgPT4gewogICAgICAgICAgICAgIC8vICAgICAvLyB0aGlzLiRzZXQodiwgJ2VkaXQnLCBmYWxzZSkgLy8gaHR0cHM6Ly92dWVqcy5vcmcvdjIvZ3VpZGUvcmVhY3Rpdml0eS5odG1sCiAgICAgICAgICAgICAgLy8gICAgIHYuY3RsRWRpdFRpdGxlID0gZmFsc2UKICAgICAgICAgICAgICAvLyAgICAgdi5jdGxCYXJTaG93ID0gZmFsc2UKICAgICAgICAgICAgICAvLyAgICAgLy8g5LiJ57qnCiAgICAgICAgICAgICAgLy8gICAgIGlmICh2LnRlYWNoUGxhblRyZWVOb2RlcyAhPT0gbnVsbCkgewogICAgICAgICAgICAgIC8vICAgICAgIHYudGVhY2hQbGFuVHJlZU5vZGVzID0gdi50ZWFjaFBsYW5UcmVlTm9kZXMubWFwKCh2OiBhbnkpID0+IHsKICAgICAgICAgICAgICAvLyAgICAgICAgIHYuY3RsRWRpdFRpdGxlID0gZmFsc2UKICAgICAgICAgICAgICAvLyAgICAgICAgIHYuY3RsQmFyU2hvdyA9IGZhbHNlCiAgICAgICAgICAgICAgLy8gICAgICAgICByZXR1cm4gdgogICAgICAgICAgICAgIC8vICAgICAgIH0pCiAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuIHYKICAgICAgICAgICAgICAvLyAgIH0pCiAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgICAgICBkYXRhLnRlYWNoUGxhblRyZWVOb2RlcyA9IGRhdGEubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMuJHNldCh2LCAnZWRpdCcsIGZhbHNlKSAvLyBodHRwczovL3Z1ZWpzLm9yZy92Mi9ndWlkZS9yZWFjdGl2aXR5Lmh0bWwKICAgICAgICAgICAgICAgICAgdi5jdGxFZGl0VGl0bGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdi5jdGxCYXJTaG93ID0gZmFsc2U7IC8vIOS4iee6pwoKICAgICAgICAgICAgICAgICAgaWYgKHYudGVhY2hQbGFuVHJlZU5vZGVzICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgdi50ZWFjaFBsYW5UcmVlTm9kZXMgPSB2LnRlYWNoUGxhblRyZWVOb2Rlcy5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgICAgICAgICAgIHYuY3RsRWRpdFRpdGxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB2LmN0bEJhclNob3cgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2OwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gdjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhpcy5vdXRsaW5lRGF0YSA9IGRhdGE7IC8vIGNvbnNvbGUubG9nKHRoaXMub3V0bGluZURhdGEpCgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfQogICAgLyoNCiAgICAg5Lqk5LqS5pON5L2cDQogICAgICovCiAgICAvLyDngrnlh7sg5L+u5pS55qCH6aKYCgogIH0sIHsKICAgIGtleTogImhhbmRsZUVkaXRUaXRsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRWRpdFRpdGxlKGRhdGEpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ2hhbmRsZUNoYW5nZVBOYW1lJykKICAgICAgZGF0YS5jdGxFZGl0VGl0bGUgPSB0cnVlOwogICAgfSAvLyDlpLHljrvnhKbngrkg5L+u5pS55qCH6aKYCgogIH0sIHsKICAgIGtleTogImhhbmRsZUVkaXRUaXRsZUJsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUVkaXRUaXRsZUJsdWUoZGF0YSkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGhhbmRsZUVkaXRUaXRsZUJsdWUkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHN1Ym1pdE91dGxpbmVOb2RlKGRhdGEpKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBkYXRhLmN0bEVkaXRUaXRsZSA9IGZhbHNlOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IC8vIOa3u+WKoOeroAoKICB9LCB7CiAgICBrZXk6ICJoYW5kbGVBZGRDaGFwdGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVBZGRDaGFwdGVyKCkgewogICAgICB2YXIgbm9kZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBoYW5kbGVBZGRDaGFwdGVyJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBub2RlID0gewogICAgICAgICAgICAgICAgY291cnNlSWQ6IHRoaXMuY291cnNlQmFzZUlkLAogICAgICAgICAgICAgICAgcGFyZW50aWQ6IDAsCiAgICAgICAgICAgICAgICBncmFkZTogMSwKICAgICAgICAgICAgICAgIHBuYW1lOiAn5paw56ug5ZCN56ewIFvngrnlh7vkv67mlLldJyAvLyBtZWRpYVR5cGU6ICcnLAogICAgICAgICAgICAgICAgLy8gY3RsRWRpdFRpdGxlOiBmYWxzZSwKICAgICAgICAgICAgICAgIC8vIGN0bEJhclNob3c6IGZhbHNlCiAgICAgICAgICAgICAgICAvLyB0ZWFjaFBsYW5UcmVlTm9kZXM6IFtdCgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoc3VibWl0T3V0bGluZU5vZGUobm9kZSkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOyAvLyB0aGlzLm91dGxpbmVEYXRhLnRlYWNoUGxhblRyZWVOb2Rlcy5wdXNoKG5vZGUpCgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0gLy8g5re75Yqg5bCP6IqCCgogIH0sIHsKICAgIGtleTogImhhbmRsZUFkZFNlY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUFkZFNlY3Rpb24odGVhY2hQbGFuVHJlZU5vZGVzLCBwYXJlbnRpZCkgewogICAgICB2YXIgbm9kZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBoYW5kbGVBZGRTZWN0aW9uJChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBub2RlID0gewogICAgICAgICAgICAgICAgY291cnNlSWQ6IHRoaXMuY291cnNlQmFzZUlkLAogICAgICAgICAgICAgICAgcGFyZW50aWQ6IHBhcmVudGlkLAogICAgICAgICAgICAgICAgZ3JhZGU6IDIsCiAgICAgICAgICAgICAgICBwbmFtZTogJ+aWsOWwj+iKguWQjeensCBb54K55Ye75L+u5pS5XScgLy8gbWVkaWFUeXBlOiAnJywKICAgICAgICAgICAgICAgIC8vIGlzUHJldmlldzogJzAnLAogICAgICAgICAgICAgICAgLy8gY3RsRWRpdFRpdGxlOiBmYWxzZSwKICAgICAgICAgICAgICAgIC8vIGN0bEJhclNob3c6IGZhbHNlCiAgICAgICAgICAgICAgICAvLyB0ZWFjaFBsYW5UcmVlTm9kZXM6IFtdCgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoc3VibWl0T3V0bGluZU5vZGUobm9kZSkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOyAvLyB0ZWFjaFBsYW5UcmVlTm9kZXMucHVzaChub2RlKQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9IC8vIOWIoOmZpOWwj+iKggoKICB9LCB7CiAgICBrZXk6ICJoYW5kbGVEZWxldGVOb2RlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGVOb2RlKHRlYWNoUGxhbklkKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gaGFuZGxlRGVsZXRlTm9kZSQoX2NvbnRleHQ1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuc2hvd0RlbGV0ZUNvbmZpcm0oKSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoZGVsZXRlT3V0bGluZU5vZGUodGVhY2hQbGFuSWQpKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gODsKICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDVbImNhdGNoIl0oMCk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcywgW1swLCA4XV0pOwogICAgfSAvL+S4iuenuwoKICB9LCB7CiAgICBrZXk6ICJtb3ZlVVAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmVVUCh0ZWFjaFBsYW5JZCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIG1vdmVVUCQoX2NvbnRleHQ2KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKG1vdmVVcFN1Ym1pdCh0ZWFjaFBsYW5JZCkpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDY7CiAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcywgW1swLCA2XV0pOwogICAgfSAvL+S4i+enuwoKICB9LCB7CiAgICBrZXk6ICJtb3ZlRG93biIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZURvd24odGVhY2hQbGFuSWQpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBtb3ZlRG93biQoX2NvbnRleHQ3KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKG1vdmVEb3duU3VibWl0KHRlYWNoUGxhbklkKSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA4OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gNjsKICAgICAgICAgICAgICBfY29udGV4dDcudDAgPSBfY29udGV4dDdbImNhdGNoIl0oMCk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzLCBbWzAsIDZdXSk7CiAgICB9IC8vIOWFjei0ueWtpuS5oOacrOeroAoKICB9LCB7CiAgICBrZXk6ICJoYW5kbGVDaGFuZ2VJc1ByZXZpZXciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZUlzUHJldmlldyhub2RlKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gaGFuZGxlQ2hhbmdlSXNQcmV2aWV3JChfY29udGV4dDgpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChzdWJtaXRPdXRsaW5lTm9kZShub2RlKSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gLy8g5L+u5pS55Y+R5biD5pe26Ze0CgogIH0sIHsKICAgIGtleTogImhhbmRsZUNoYW5nZVB1Ymxpc2hUaW1lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VQdWJsaXNoVGltZShub2RlKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gaGFuZGxlQ2hhbmdlUHVibGlzaFRpbWUkKF9jb250ZXh0OSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHN1Ym1pdE91dGxpbmVOb2RlKG5vZGUpKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSAvLyDpgInmi6nkvZzkuJoKCiAgfSwgewogICAga2V5OiAiaGFuZGxlU2VsZWN0V29yayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0V29yayhub2RlKSB7CiAgICAgIHRoaXMucmVzdFNlbGVjdGVkRGlhbG9nKCk7CiAgICAgIHRoaXMuc2VsZWN0VHlwZSA9ICd3b3JrJzsKICAgICAgdGhpcy5zZWxlY3RUeXBlVGl0bGUgPSAn6YCJ5oup5L2c5LiaJzsKICAgICAgdGhpcy5tZWRpYURpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmN1clNlbGVjdE5vZGUgPSBub2RlOwogICAgfSAvLyDpgInmi6nop4bpopEKCiAgfSwgewogICAga2V5OiAiaGFuZGxlU2VsZWN0VmlkZW8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdFZpZGVvKG5vZGUpIHsKICAgICAgdGhpcy5yZXN0U2VsZWN0ZWREaWFsb2coKTsKICAgICAgdGhpcy5zZWxlY3RUeXBlID0gJ3ZpZGVvJzsKICAgICAgdGhpcy5zZWxlY3RUeXBlVGl0bGUgPSAn6YCJ5oup6KeG6aKRJzsKICAgICAgdGhpcy5tZWRpYURpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmN1clNlbGVjdE5vZGUgPSBub2RlOwogICAgfSAvLyDpgInmi6nmlofmoaMKCiAgfSwgewogICAga2V5OiAiaGFuZGxlU2VsZWN0RG9jIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3REb2Mobm9kZSkgewogICAgICB0aGlzLnJlc3RTZWxlY3RlZERpYWxvZygpOwogICAgICB0aGlzLnNlbGVjdFR5cGUgPSAnZG9jJzsKICAgICAgdGhpcy5zZWxlY3RUeXBlVGl0bGUgPSAn6YCJ5oup5paH5qGjJzsKICAgICAgdGhpcy5tZWRpYURpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmN1clNlbGVjdE5vZGUgPSBub2RlOwogICAgfSAvLyDmlLbliLDpgInkuK3mlbDmja4KCiAgfSwgewogICAga2V5OiAib25SZWN2U2VsZWN0ZWRWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZWN2U2VsZWN0ZWRWYWx1ZShyZXQpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBvblJlY3ZTZWxlY3RlZFZhbHVlJChfY29udGV4dDEwKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoIShyZXQudHlwZSA9PT0gJ3ZpZGVvJyB8fCByZXQudHlwZSA9PT0gJ2RvYycpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAobWVkaWFBc3NvY2lhdGlvbihyZXQudmFsdWUuaWQsIHJldC52YWx1ZS5maWxlbmFtZSwgdGhpcy5jdXJTZWxlY3ROb2RlLmlkKSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBpZiAoIShyZXQudHlwZSA9PT0gJ3dvcmsnKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHdvcmtBc3NvY2lhdGlvbih0aGlzLmN1clNlbGVjdE5vZGUudGVhY2hQbGFuSWQsIHJldC52YWx1ZS53b3JrSWQsIHJldC52YWx1ZS50aXRsZSkpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIG51bGwsIHRoaXMpOwogICAgfSAvLyDliKDpmaQg5aqS5L2TCgogIH0sIHsKICAgIGtleTogImhhbmRsZURlbGV0ZU1lZGlhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGVNZWRpYShub2RlKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gaGFuZGxlRGVsZXRlTWVkaWEkKF9jb250ZXh0MTEpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5vZGUpOwogICAgICAgICAgICAgIF9jb250ZXh0MTEucHJldiA9IDE7CgogICAgICAgICAgICAgIGlmICghKG5vZGUudGVhY2hwbGFuTWVkaWEgPT09IHVuZGVmaW5lZCB8fCBub2RlLnRlYWNocGxhbk1lZGlhLnRlYWNocGxhbklkID09PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLnNob3dEZWxldGVDb25maXJtKCkpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChtZWRpYVVuQXNzb2NpYXRpb24obm9kZS50ZWFjaHBsYW5NZWRpYS50ZWFjaHBsYW5JZCwgbm9kZS50ZWFjaHBsYW5NZWRpYS5tZWRpYUlkLCB0aGlzLmNvdXJzZUJhc2VJZCkpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDEzOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dDExLnByZXYgPSAxMTsKICAgICAgICAgICAgICBfY29udGV4dDExLnQwID0gX2NvbnRleHQxMVsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcywgW1sxLCAxMV1dKTsKICAgIH0gLy8g5Yig6ZmkIOS9nOS4mgoKICB9LCB7CiAgICBrZXk6ICJoYW5kbGVEZWxldGVXb3JrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGVXb3JrKG5vZGUpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBoYW5kbGVEZWxldGVXb3JrJChfY29udGV4dDEyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAwOwoKICAgICAgICAgICAgICBpZiAoIShub2RlLndvcmsgPT09IHVuZGVmaW5lZCB8fCBub2RlLndvcmsudGVhY2hwbGFuV29ya0lkID09PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLnNob3dEZWxldGVDb25maXJtKCkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh3b3JrVW5Bc3NvY2lhdGlvbihub2RlLndvcmsudGVhY2hwbGFuV29ya0lkLCB0aGlzLmNvdXJzZUJhc2VJZCkpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEyOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAxMDsKICAgICAgICAgICAgICBfY29udGV4dDEyLnQwID0gX2NvbnRleHQxMlsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcywgW1swLCAxMF1dKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBkZWZhdWx0XzE7Cn0obWl4aW5zKE1peGluVG9vbHMpKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcCh7CiAgdHlwZTogTnVtYmVyCn0pXSwgZGVmYXVsdF8xLnByb3RvdHlwZSwgImNvdXJzZUJhc2VJZCIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoewogIHR5cGU6IFN0cmluZwp9KV0sIGRlZmF1bHRfMS5wcm90b3R5cGUsICJ0ZWFjaG1vZGUiLCB2b2lkIDApOwoKZGVmYXVsdF8xID0gdHNsaWJfMS5fX2RlY29yYXRlKFtDb21wb25lbnQoewogIG5hbWU6ICdDb3Vyc2VBZGRTdGVwMk91dGxpbmUnLAogIGNvbXBvbmVudHM6IHsKICAgIE91dGxpbmVTZWxlY3REaWFsb2c6IE91dGxpbmVTZWxlY3REaWFsb2cKICB9LAogIGZpbHRlcnM6IHsKICAgIC8vIOivvueoi+iuoeWIkuWPkeW4g+eKtuaAgQogICAgc3RhdHVzOiBmdW5jdGlvbiBzdGF0dXModmFsdWUpIHsKICAgICAgdmFyIHN0YXRlc1RleHQgPSB2YWx1ZSA9PSAnMjAzMDAxJyA/ICfmnKrlj5HluIMnIDogJ+W3suWPkeW4gyc7CiAgICAgIHJldHVybiBzdGF0ZXNUZXh0OwogICAgfSwKICAgIGRhdGVGbXQ6IGZ1bmN0aW9uIGRhdGVGbXQodmFsdWUpIHsKICAgICAgcmV0dXJuIG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZ5bm0TU3mnIhEROaXpSBISDptbScpOwogICAgfSwKICAgIGVuZERhdGVGbXQ6IGZ1bmN0aW9uIGVuZERhdGVGbXQodmFsdWUpIHsKICAgICAgcmV0dXJuIG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdISDptbScpOwogICAgfQogIH0KfSldLCBkZWZhdWx0XzEpOwpleHBvcnQgZGVmYXVsdCBkZWZhdWx0XzE7"},{"version":3,"sources":["D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\itcast2023\\xc_edu3.1\\code_402\\project-xczx2-portal-vue-ts\\src\\module-organization\\pages\\course-manage\\course-add-step2-outline.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport moment from 'moment'\r\nimport { Component, Prop, PropSync, Watch, Vue } from 'vue-property-decorator'\r\nimport { mixins } from 'vue-class-component'\r\nimport {\r\n  submitOutlineNode,\r\n  deleteOutlineNode,\r\n  moveDownSubmit,\r\n  moveUpSubmit,\r\n  getOutline,\r\n  mediaAssociation,\r\n  workAssociation,\r\n  mediaUnAssociation,\r\n  workUnAssociation\r\n} from '@/api/courses'\r\nimport { ICourseOutlineTreeNode } from '@/entity/course-add-outline'\r\nimport OutlineSelectDialog from './course-add-step2-select-dialog.vue'\r\nimport MixinTools from '@/utils/mixins.vue'\r\n\r\nmoment.locale('zh-cn') // 时间格式化\r\n\r\n@Component({\r\n  name: 'CourseAddStep2Outline',\r\n  components: {\r\n    OutlineSelectDialog\r\n  },\r\n  filters: {\r\n    // 课程计划发布状态\r\n    status: (value: string) => {\r\n      let statesText = value == '203001' ? '未发布' : '已发布'\r\n      return statesText\r\n    },\r\n    dateFmt: (value: string) => {\r\n      return moment(value).format('YYYY年MM月DD日 HH:mm')\r\n    },\r\n    endDateFmt: (value: string) => {\r\n      return moment(value).format('HH:mm')\r\n    }\r\n  }\r\n})\r\nexport default class extends mixins(MixinTools) {\r\n  @Prop({ type: Number })\r\n  courseBaseId!: number\r\n\r\n  @Prop({ type: String })\r\n  teachmode!: string\r\n\r\n  private outlineData!: ICourseOutlineTreeNode\r\n  private defaultProps = {\r\n    children: 'teachPlanTreeNodes',\r\n    label: 'pname'\r\n  }\r\n\r\n  private mediaDialogVisible: boolean = false // 选择媒体窗口\r\n  private curSelectNode: any = {} // 当前操作的媒体\r\n  private selectType: string = '' // video file doc\r\n  private selectTypeTitle: string = ''\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.outlineData = {\r\n      courseId: this.courseBaseId,\r\n      mediaType: '',\r\n      pname: '',\r\n      teachPlanTreeNodes: []\r\n    }\r\n  }\r\n\r\n  /*\r\n   功能函数\r\n   */\r\n\r\n  // 重置媒体选择\r\n  private restSelectedDialog() {\r\n    let selDialog: HTMLFormElement = this.$refs[\r\n      'outlineSelectDialog'\r\n    ] as HTMLFormElement\r\n    selDialog.restForm()\r\n  }\r\n\r\n  // 读取大纲\r\n  public async getList() {\r\n    if (this.courseBaseId != 0) {\r\n      let data = await getOutline(this.courseBaseId)\r\n      // debugger\r\n\r\n      // 设置可编辑状态\r\n      // 二级\r\n      // if (\r\n      //   data.teachPlanTreeNodes !== null &&\r\n      //   data.teachPlanTreeNodes !== undefined\r\n      // ) {\r\n      //   data.teachPlanTreeNodes = data.teachPlanTreeNodes.map((v: any) => {\r\n      //     // this.$set(v, 'edit', false) // https://vuejs.org/v2/guide/reactivity.html\r\n      //     v.ctlEditTitle = false\r\n      //     v.ctlBarShow = false\r\n      //     // 三级\r\n      //     if (v.teachPlanTreeNodes !== null) {\r\n      //       v.teachPlanTreeNodes = v.teachPlanTreeNodes.map((v: any) => {\r\n      //         v.ctlEditTitle = false\r\n      //         v.ctlBarShow = false\r\n      //         return v\r\n      //       })\r\n      //     }\r\n      //     return v\r\n      //   })\r\n      // }\r\n      if (data) {\r\n        data.teachPlanTreeNodes = data.map((v: any) => {\r\n          // this.$set(v, 'edit', false) // https://vuejs.org/v2/guide/reactivity.html\r\n          v.ctlEditTitle = false\r\n          v.ctlBarShow = false\r\n          // 三级\r\n          if (v.teachPlanTreeNodes !== null) {\r\n            v.teachPlanTreeNodes = v.teachPlanTreeNodes.map((v: any) => {\r\n              v.ctlEditTitle = false\r\n              v.ctlBarShow = false\r\n              return v\r\n            })\r\n          }\r\n          return v\r\n        })\r\n      }\r\n\r\n      this.outlineData = data\r\n      // console.log(this.outlineData)\r\n    }\r\n  }\r\n\r\n  /*\r\n   交互操作\r\n   */\r\n\r\n  // 点击 修改标题\r\n  private handleEditTitle(data: any) {\r\n    // console.log('handleChangePName')\r\n    data.ctlEditTitle = true\r\n  }\r\n\r\n  // 失去焦点 修改标题\r\n  private async handleEditTitleBlue(data: any) {\r\n    await submitOutlineNode(data)\r\n    data.ctlEditTitle = false\r\n  }\r\n\r\n  // 添加章\r\n  private async handleAddChapter() {\r\n    let node: ICourseOutlineTreeNode = {\r\n      courseId: this.courseBaseId,\r\n      parentid: 0,\r\n      grade: 1,\r\n      pname: '新章名称 [点击修改]'\r\n      // mediaType: '',\r\n      // ctlEditTitle: false,\r\n      // ctlBarShow: false\r\n      // teachPlanTreeNodes: []\r\n    }\r\n    await submitOutlineNode(node)\r\n    this.getList()\r\n    // this.outlineData.teachPlanTreeNodes.push(node)\r\n  }\r\n\r\n  // 添加小节\r\n  private async handleAddSection(\r\n    teachPlanTreeNodes: ICourseOutlineTreeNode[],\r\n    parentid: number\r\n  ) {\r\n    let node: ICourseOutlineTreeNode = {\r\n      courseId: this.courseBaseId,\r\n      parentid: parentid,\r\n      grade: 2,\r\n      pname: '新小节名称 [点击修改]'\r\n      // mediaType: '',\r\n      // isPreview: '0',\r\n      // ctlEditTitle: false,\r\n      // ctlBarShow: false\r\n      // teachPlanTreeNodes: []\r\n    }\r\n\r\n    await submitOutlineNode(node)\r\n    this.getList()\r\n    // teachPlanTreeNodes.push(node)\r\n  }\r\n\r\n  // 删除小节\r\n  private async handleDeleteNode(teachPlanId: number) {\r\n    try {\r\n      await this.showDeleteConfirm()\r\n      await deleteOutlineNode(teachPlanId)\r\n      this.getList()\r\n    } catch (error) {}\r\n  }\r\n  //上移\r\n  private async moveUP(teachPlanId: number) {\r\n    try {\r\n      await moveUpSubmit(teachPlanId)\r\n      this.getList()\r\n    } catch (error) {}\r\n  }\r\n //下移\r\n  private async moveDown(teachPlanId: number) {\r\n    try {\r\n      await moveDownSubmit(teachPlanId)\r\n      this.getList()\r\n    } catch (error) {}\r\n  }\r\n\r\n\r\n  \r\n\r\n\r\n  // 免费学习本章\r\n  private async handleChangeIsPreview(node: ICourseOutlineTreeNode) {\r\n    // console.log(node)\r\n    await submitOutlineNode(node)\r\n  }\r\n\r\n  // 修改发布时间\r\n  private async handleChangePublishTime(node: ICourseOutlineTreeNode) {\r\n    // console.log(node)\r\n    await submitOutlineNode(node)\r\n  }\r\n\r\n  // 选择作业\r\n  private handleSelectWork(node: ICourseOutlineTreeNode) {\r\n    this.restSelectedDialog()\r\n    this.selectType = 'work'\r\n    this.selectTypeTitle = '选择作业'\r\n    this.mediaDialogVisible = true\r\n    this.curSelectNode = node\r\n  }\r\n\r\n  // 选择视频\r\n  private handleSelectVideo(node: ICourseOutlineTreeNode) {\r\n\r\n    this.restSelectedDialog()\r\n    this.selectType = 'video'\r\n    this.selectTypeTitle = '选择视频'\r\n    this.mediaDialogVisible = true\r\n    this.curSelectNode = node\r\n  }\r\n\r\n  // 选择文档\r\n  private handleSelectDoc(node: ICourseOutlineTreeNode) {\r\n    this.restSelectedDialog()\r\n    this.selectType = 'doc'\r\n    this.selectTypeTitle = '选择文档'\r\n    this.mediaDialogVisible = true\r\n    this.curSelectNode = node\r\n  }\r\n\r\n  // 收到选中数据\r\n  private async onRecvSelectedValue(ret: any) {\r\n    // console.log(ret)\r\n    // if (this.curSelectNode.teachplanMedia == null) {\r\n    //   this.curSelectNode.teachplanMedia = {}\r\n    // }\r\n    // this.curSelectNode.teachplanMedia.mediaId = 0\r\n    // this.curSelectNode.teachplanMedia.mediaFileName = ''\r\n\r\n    // if (this.curSelectNode.work == null) {\r\n    //   this.curSelectNode.work = {}\r\n    // }\r\n    // this.curSelectNode.work.question = ''\r\n    // this.curSelectNode.work.title = ''\r\n\r\n    // if (ret.type === 'video' || ret.type === 'doc') {\r\n    //   this.curSelectNode.teachplanMedia.mediaId = ret.value.id\r\n    //   this.curSelectNode.teachplanMedia.mediaFileName = ret.value.filename\r\n    //   await mediaAssociation(ret.value.id, this.curSelectNode.teachPlanId)\r\n    // } else if (ret.type === 'work') {\r\n    //   this.curSelectNode.work.question = ret.value.question\r\n    //   this.curSelectNode.work.title = ret.value.title\r\n    //   await submitOutlineNode(this.curSelectNode)\r\n    // }\r\n    if (ret.type === 'video' || ret.type === 'doc') {\r\n      \r\n      await mediaAssociation(ret.value.id,ret.value.filename ,this.curSelectNode.id)\r\n    } else if (ret.type === 'work') {\r\n      await workAssociation(\r\n        this.curSelectNode.teachPlanId,\r\n        ret.value.workId,\r\n        ret.value.title\r\n      )\r\n    }\r\n    this.getList()\r\n  }\r\n\r\n  // 删除 媒体\r\n  private async handleDeleteMedia(node: ICourseOutlineTreeNode) {\r\n    console.log(node)\r\n    try {\r\n      if (\r\n        node.teachplanMedia === undefined ||\r\n        node.teachplanMedia.teachplanId === undefined\r\n      ) {\r\n        return\r\n      }\r\n      await this.showDeleteConfirm()\r\n      await mediaUnAssociation(\r\n        node.teachplanMedia.teachplanId,\r\n        node.teachplanMedia.mediaId,\r\n        this.courseBaseId\r\n      )\r\n      this.getList()\r\n    } catch (error) {}\r\n  }\r\n\r\n  // 删除 作业\r\n  private async handleDeleteWork(node: ICourseOutlineTreeNode) {\r\n    try {\r\n      if (node.work === undefined || node.work.teachplanWorkId === undefined) {\r\n        return\r\n      }\r\n      await this.showDeleteConfirm()\r\n      await workUnAssociation(node.work.teachplanWorkId, this.courseBaseId)\r\n      this.getList()\r\n    } catch (error) {}\r\n  }\r\n}\r\n"],"sourceRoot":""}]}